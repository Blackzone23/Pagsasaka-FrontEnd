import{L as P,T}from"./Toast-l2ljLstt.js";import{L as O}from"./Logo2-Dki--5bN.js";import{c as C,r as D,u as E,B as L}from"./BaseError-DF4q8t9U.js";import{_ as B}from"./SignUp_Navbar-CQ4y-gfg.js";import{_ as l}from"./BaseInputField-WsJZfwXa.js";import{B as $}from"./BaseLabel-CAfMs-xT.js";import{A as c,i as _,D as k,c as U,E as m,l as x,a,b as t,u as d,w as f,e as n,F as S,j as N,o as u,t as j}from"./index-CZyWb1aQ.js";/* empty css                                                              */const q={class:"2xl:p-10 2xs:p-0 md:p-5"},A={class:"bg-white min-h-screen flex flex-col items-center space-y-2 border-2 border-gray-300 p-10 rounded-md"},F=["src"],R={class:"w-96 p-10 rounded-lg shadow-lg text-start space-y-6 border-2 border-[#608C54]"},I={class:"flex flex-col space-x-2 text-center"},M={class:"flex justify-center space-x-2"},Z={__name:"Page_2",setup(Y){const p=_(),g=N(),V=c(()=>p.state.showLoading.state),o=k({otp:["","","","","",""]}),v=c(()=>({otp:{$each:{required:C.withMessage("Each OTP field is required",D)}}})),i=E(v,o);async function w(){if(await i.value.$validate()){const e=o.otp.join("");console.log("OTP:",e);try{(await p.dispatch("createOTP",{otp:e})).isSuccess&&(console.log("OTP verification successful"),g.push({name:"Login"}))}catch(s){console.error("Error verifying OTP:",s)}}}function b(r){(r.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"").slice(0,6).split("").forEach((h,y)=>{o.otp[y]=h}),r.preventDefault()}return(r,e)=>(u(),U(S,null,[V.value?(u(),m(P,{key:0,class:"loading"})):x("",!0),a(T),t("div",null,[a(B),t("div",q,[t("div",A,[t("img",{src:d(O),alt:"Logo2",class:"h-16 mb-2"},null,8,F),t("div",R,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold text-[#608C54]"},"Enter OTP",-1)),t("div",I,[a($,{class:"font-semibold"},{default:f(()=>e[6]||(e[6]=[n("Enter the 6-digit OTP")])),_:1}),e[7]||(e[7]=t("p",{class:"text-xs"},"Your verification code is sent by Email to",-1))]),t("div",M,[a(l,{modelValue:o.otp[0],"onUpdate:modelValue":e[0]||(e[0]=s=>o.otp[0]=s),class:"w-12 text-center",maxlength:"1",onPaste:b},null,8,["modelValue"]),a(l,{modelValue:o.otp[1],"onUpdate:modelValue":e[1]||(e[1]=s=>o.otp[1]=s),class:"w-12 text-center",maxlength:"1"},null,8,["modelValue"]),a(l,{modelValue:o.otp[2],"onUpdate:modelValue":e[2]||(e[2]=s=>o.otp[2]=s),class:"w-12 text-center",maxlength:"1"},null,8,["modelValue"]),a(l,{modelValue:o.otp[3],"onUpdate:modelValue":e[3]||(e[3]=s=>o.otp[3]=s),class:"w-12 text-center",maxlength:"1"},null,8,["modelValue"]),a(l,{modelValue:o.otp[4],"onUpdate:modelValue":e[4]||(e[4]=s=>o.otp[4]=s),class:"w-12 text-center",maxlength:"1"},null,8,["modelValue"]),a(l,{modelValue:o.otp[5],"onUpdate:modelValue":e[5]||(e[5]=s=>o.otp[5]=s),class:"w-12 text-center",maxlength:"1"},null,8,["modelValue"]),d(i).otp.$error?(u(),m(L,{key:0},{default:f(()=>[n(j(d(i).otp.$errors[0].$message),1)]),_:1})):x("",!0)]),e[9]||(e[9]=t("div",{class:"text-xs text-center"},[t("p",null,[n("If you didn't receive the OTP, "),t("a",{href:"#",class:"text-[#608C54] hover:underline"},"Resend OTP")])],-1)),t("button",{onClick:w,class:"w-full py-2 bg-[#608C54] text-white text-sm font-medium rounded-full hover:bg-[#4e7344] transition duration-200"}," Verify "),e[10]||(e[10]=t("div",{class:"text-xs space-y-2"},[t("hr",{class:"w-full mx-auto border-t-2 border-[#608C54]"}),t("p",null,[n("Already have an Account? "),t("a",{href:"/login",class:"text-[#608C54] hover:underline"},"Sign in")])],-1))])])])])],64))}};export{Z as default};
