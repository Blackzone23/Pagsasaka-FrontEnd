import{L as R,T as C}from"./Toast-l2ljLstt.js";import{A as m,i as j,g as f,f as i,c as r,E as B,l as b,a as d,b as t,t as a,u as x,I as u,F as y,h as N,j as T,o as n,k as M}from"./index-CZyWb1aQ.js";/* empty css                                                              */const V={class:"flex h-screen bg-gray-100"},D={class:"flex-1 flex flex-col"},E={class:"px-2 sm:px-4 pt-20 flex flex-col gap-4 overflow-auto"},F={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},I={class:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between"},z={class:"text-lg sm:text-xl font-bold text-gray-900"},S={class:"bg-white p-4 rounded-lg shadow-md flex items-center justify-between"},P={class:"text-lg sm:text-xl font-bold text-gray-900"},$={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},q={class:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-[90%] sm:w-[410px] text-center"},G={class:"flex justify-center"},H={class:"w-full overflow-x-auto"},J={class:"w-full table-auto text-xs sm:text-sm text-left"},K={class:"px-2 sm:px-4 py-2"},O={class:"px-2 sm:px-4 py-2"},Q={class:"px-2 sm:px-4 py-2"},U={class:"px-2 sm:px-4 py-2"},W={class:"px-2 sm:px-4 py-2 space-x-2 text-center"},X=["disabled","onClick"],ot={__name:"Administrator_Dashboard",setup(Y){const o=j();T();const _=m(()=>o.state.showLoading.state),v=m(()=>o.state.Administrator.remit.data),g=m(()=>o.state.Administrator.people.data);function w(){o.dispatch("Administrator/getRemitList")}f(()=>{w()});function A(){o.dispatch("Administrator/getAdminList")}f(()=>{A()});const c=i(!1),p=i(null);function k(l){p.value=l,c.value=!0}function h(){c.value=!1}async function L(){if(p.value)try{const l={id:p.value};await o.dispatch("Administrator/approveRiderRemit",l),await o.dispatch("Administrator/getRemitList"),h()}catch(l){console.error("Approval failed:",l)}}return i(!1),i(!1),i(null),(l,e)=>(n(),r(y,null,[_.value?(n(),B(R,{key:0,class:"loading"})):b("",!0),d(C),t("div",V,[t("div",D,[t("main",E,[t("div",null,[t("div",F,[t("div",I,[t("div",null,[e[0]||(e[0]=t("h3",{class:"text-sm sm:text-base font-semibold text-gray-700"},"Total Riders",-1)),t("p",z,a(g.value.total_riders),1)]),d(x(u),{icon:"mdi:motorbike",class:"w-8 h-8 text-blue-600"})]),t("div",S,[t("div",null,[e[1]||(e[1]=t("h3",{class:"text-sm sm:text-base font-semibold text-gray-700"},"Total Farmers",-1)),t("p",P,a(g.value.total_farmers),1)]),d(x(u),{icon:"mdi:store",class:"w-8 h-8 text-green-700"})])]),c.value?(n(),r("div",$,[t("div",q,[t("div",G,[d(x(u),{icon:"mdi:approve",class:"w-16 h-16",style:{color:"#188b47"}})]),e[2]||(e[2]=t("p",{class:"text-xs sm:text-sm text-gray-600 mt-4"},"Are you sure you want to approve this remit? This action cannot be undone",-1)),t("div",{class:"flex flex-col sm:flex-row gap-2 mt-4 justify-center"},[t("button",{class:"bg-[#608C54] text-white px-8 sm:px-14 py-2 rounded hover:bg-red-600",onClick:L},"Approve"),t("button",{class:"bg-red-500 text-white px-8 sm:px-14 py-2 rounded hover:bg-gray-400",onClick:h},"Cancel")])])])):b("",!0)]),t("div",H,[t("table",J,[e[3]||(e[3]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Rider Name"),t("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Email"),t("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Phone Number"),t("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Balance"),t("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-center"},"Action")])],-1)),t("tbody",null,[(n(!0),r(y,null,N(v.value,s=>(n(),r("tr",{key:s.id,class:"border-b hover:bg-gray-100"},[t("td",K,a(s.first_name)+" "+a(s.last_name),1),t("td",O,a(s.email),1),t("td",Q,a(s.phone_number),1),t("td",U,a(s.balance),1),t("td",W,[t("button",{class:M(["text-white px-4 rounded-lg bg-green-800 hover:text-green-800",{"bg-gray-500 opacity-70 cursor-not-allowed":s.balance===0}]),disabled:s.balance===0,onClick:Z=>k(s.id)}," Remit ",10,X)])]))),128))])])])])])])],64))}};export{ot as default};
