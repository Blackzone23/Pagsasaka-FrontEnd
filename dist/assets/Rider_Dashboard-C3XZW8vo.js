import{L as E,T as N}from"./Toast-DqQXjnrE.js";import{c as q,r as F,u as P,B as U}from"./BaseError-1qdqRqB1.js";import{A as h,i as j,f as i,D as A,g as M,c as n,E as x,l as b,a as y,b as t,u as f,I as z,e as c,t as a,F as _,h as w,w as W,j as J,o as l}from"./index-C5S-bgrH.js";/* empty css                                                              */const Q={class:"bg-[#285a19] shadow p-4 flex justify-between items-center text-white"},G={class:"relative inline-block text-left"},H={class:"flex items-center space-x-2"},K=["src"],X={key:0,class:"absolute right-0 z-50 mt-2 w-48 bg-white rounded shadow-lg"},Y={class:"flex h-96"},Z={class:"flex-1 p-6"},tt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},et={class:"bg-gray-100 p-4 shadow rounded-lg"},st={class:"font-bold"},ot={class:"font-bold"},at={class:"font-bold"},lt={class:"bg-gray-100 p-4 shadow rounded-lg"},nt={class:"text-blue-500"},rt={key:0,class:"p-4"},it={class:"max-h-[400px] overflow-y-auto border border-gray-300 rounded"},dt={class:"w-full border-collapse"},ct=["onClick"],ut={class:"border p-2"},gt={class:"border p-2"},mt={class:"border p-2"},pt={class:"border p-2"},ht={class:"border p-2 text-green-500"},bt={key:1,class:"max-w-lg mx-auto mt-10 p-6 bg-white shadow-md rounded-lg"},ft={class:"text-xl font-bold text-center"},_t={class:"mt-4 flex flex-col items-center"},Ct={__name:"Rider_Dashboard",setup(vt){const d=j(),v=J(),k=h(()=>d.state.Rider.intransitList.data),D=h(()=>{var o;return((o=d.state.userData.data)==null?void 0:o.user)||{}});function C(){d.dispatch("Rider/getIntransitList")}i({name:"John Doe",status:"Online",profileImage:"https://via.placeholder.com/100"});const u=i({today:"",week:"",month:""}),I=i([{id:1234,status:"Pending"},{id:1235,status:"Pending"}]),r=i(null),L=o=>{r.value=o},R=i(null),g=A({image:""}),T=o=>{g.image=o.target.files[0]},B=h(()=>({image:{required:q.withMessage("image is required",F)}})),m=P(B,g);async function O(){if(!await m.value.$validate())return;if(!r.value){console.error("Error: selectedTransit is undefined");return}const e=new FormData;e.append("image",g.image),e.append("id",r.value.id),await d.dispatch("Rider/sendImage",{id:r.value.id,formData:e}).then(s=>{s.isSuccess&&v.push({name:"Rider_Dashboard"})})}const S=()=>{r.value=null,R.value=null},p=i(!1);function V(){p.value=!p.value}const $=async()=>{try{(await d.dispatch("logout")).isSuccess&&v.push({name:"Login"})}catch(o){console.error("Logout error:",o)}};return M(()=>{C()}),(o,e)=>(l(),n(_,null,[o.showLoading?(l(),x(E,{key:0,class:"loading"})):b("",!0),y(N),t("div",null,[t("header",Q,[e[1]||(e[1]=t("h1",{class:"text-lg sm:text-xl 2xl:ml-0 md:ml-10 2xs:ml-10 font-bold"},"Welcome to Rider Profile",-1)),t("div",G,[t("div",H,[t("img",{src:D.value.avatar,alt:"Profile",class:"w-10 h-10 rounded-full object-cover shadow-md"},null,8,K),y(f(z),{icon:"uil:setting",width:"24",height:"24",class:"cursor-pointer text-white",onClick:V})]),p.value?(l(),n("div",X,[e[0]||(e[0]=t("a",{href:"/rider_profile",class:"block px-4 py-2 text-sm text-black hover:bg-gray-100"}," Account Info ",-1)),t("button",{onClick:$,class:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100"}," Logout ")])):b("",!0)])]),t("div",Y,[t("main",Z,[t("div",tt,[t("div",et,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold mb-2"},"Earnings",-1)),t("p",null,[e[2]||(e[2]=c("Today: ")),t("span",st,a(u.value.today),1)]),t("p",null,[e[3]||(e[3]=c("This Week: ")),t("span",ot,a(u.value.week),1)]),t("p",null,[e[4]||(e[4]=c("This Month: ")),t("span",at,a(u.value.month),1)])]),t("div",lt,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold mb-2"},"Upcoming Orders",-1)),t("ul",null,[(l(!0),n(_,null,w(I.value,s=>(l(),n("li",{key:s.id,class:"mb-1"},[c(" Order #"+a(s.id)+" - ",1),t("span",nt,a(s.status),1)]))),128))])])]),r.value?(l(),n("div",bt,[t("h2",ft,"Upload Image for Order #"+a(r.value.id),1),t("div",_t,[t("input",{type:"file",onChange:T,accept:"image/*,application/pdf",class:"w-full border p-2 rounded"},null,32),f(m).image.$error?(l(),x(U,{key:0},{default:W(()=>[c(a(f(m).image.$errors[0].$message),1)]),_:1})):b("",!0),t("button",{onClick:O,class:"mt-4 px-6 py-2 bg-green-800 text-white rounded-lg hover:bg-green-600"}," Upload ")]),t("button",{onClick:S,class:"mt-4 px-4 py-2 bg-gray-300 rounded"}," Back ")])):(l(),n("div",rt,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold mt-6 mb-2"},"Intransit Deliveries",-1)),t("div",it,[t("table",dt,[e[7]||(e[7]=t("thead",{class:"bg-gray-200 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"border text-start p-2 bg-gray-200"},"Customer Name"),t("th",{class:"border text-start p-2 bg-gray-200"},"Ship to"),t("th",{class:"border text-start p-2 bg-gray-200"},"Quantity"),t("th",{class:"border text-start p-2 bg-gray-200"},"Total Amount"),t("th",{class:"border text-start p-2 bg-gray-200"},"Status")])],-1)),t("tbody",null,[(l(!0),n(_,null,w(k.value,s=>(l(),n("tr",{key:s.id,onClick:xt=>L(s),class:"cursor-pointer hover:bg-gray-200"},[t("td",ut,a(s.customer_name),1),t("td",gt,a(s.ship_to),1),t("td",mt,a(s.quantity),1),t("td",pt,a(s.total_amount),1),t("td",ht,a(s.status),1)],8,ct))),128))])])])]))])])])],64))}};export{Ct as default};
