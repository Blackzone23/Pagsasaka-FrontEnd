import{B as v}from"./BaseLabel-C_eLoLgN.js";import{T as w,L as k}from"./Toast-CON0Qnhu.js";import{A as n,f as L,g as C,c as l,E as R,l as p,a as c,b as t,u as B,w as D,F as h,h as P,i as S,j as T,o as r,J as V,e as A,t as d}from"./index-DITtJx53.js";/* empty css                                                              */const N={class:"bg-[#285a19] shadow p-4 flex justify-between items-center text-white"},j={class:"relative inline-block text-left"},E={class:"flex items-center space-x-2"},z=["src"],F={key:0,class:"absolute right-0 z-50 mt-2 w-48 bg-white rounded shadow-lg"},O={class:"overflow-x-auto p-10"},I={class:"max-h-[400px] overflow-y-auto"},J={class:"min-w-full bg-white"},M={class:"px-4 py-2"},W={class:"px-4 py-2"},$={class:"px-4 text-center py-2"},q={class:"px-4 py-2 text-end"},G=["onClick"],Z={__name:"Rider_ProductList",setup(H){const o=S(),x=T(),m=n(()=>o.state.showLoading.state),g=n(()=>o.state.Rider.productList.data),f=n(()=>{var s;return((s=o.state.userData.data)==null?void 0:s.user)||{}});function u(){o.dispatch("Rider/getDeliveryList")}async function _(s){if(s)try{(await o.dispatch("Rider/claimedProduct",{id:s})).isSuccess&&u()}catch(e){console.error("Error claiming product:",e)}}const i=L(!1);function y(){i.value=!i.value}const b=async()=>{try{(await o.dispatch("logout")).isSuccess&&x.push({name:"Login"})}catch(s){console.error("Logout error:",s)}};return C(()=>{u()}),(s,e)=>(r(),l(h,null,[m.value?(r(),R(k,{key:0,class:"loading"})):p("",!0),c(w),t("div",null,[t("header",N,[e[1]||(e[1]=t("h1",{class:"text-lg sm:text-xl 2xl:ml-0 md:ml-10 2xs:ml-10 font-bold"},"Welcome to Rider Profile",-1)),t("div",j,[t("div",E,[t("img",{src:f.value.avatar,alt:"Profile",class:"w-10 h-10 rounded-full object-cover shadow-md"},null,8,z),c(B(V),{icon:"uil:setting",width:"24",height:"24",class:"cursor-pointer text-white",onClick:y})]),i.value?(r(),l("div",F,[e[0]||(e[0]=t("a",{href:"/rider_profile",class:"block px-4 py-2 text-sm text-black hover:bg-gray-100"}," Account Info ",-1)),t("button",{onClick:b,class:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100"}," Logout ")])):p("",!0)])]),t("div",O,[c(v,{class:"text-xl font-semibold mb-4"},{default:D(()=>e[2]||(e[2]=[A("List of Orders to be Deliver")])),_:1}),t("div",I,[t("table",J,[e[3]||(e[3]=t("thead",{class:"bg-gray-100 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"px-4 py-2 text-start"},"Orders"),t("th",{class:"px-4 py-2 text-start"},"Ship To"),t("th",{class:"px-4 py-2 text-center"},"Total Amount"),t("th",{class:"px-4 py-2 text-end"},"Actions")])],-1)),t("tbody",null,[(r(!0),l(h,null,P(g.value,a=>(r(),l("tr",{key:a.id,class:"hover:bg-gray-50"},[t("td",M,d(a.product_name),1),t("td",W,d(a.ship_to),1),t("td",$,d(a.total_amount),1),t("td",q,[t("button",{onClick:K=>_(a.id),class:"text-white bg-green-600 hover:bg-green-500 px-5 rounded-lg text-sm"},"Claim",8,G)])]))),128))])])])])])],64))}};export{Z as default};
