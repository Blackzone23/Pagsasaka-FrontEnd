import{_ as Vt,A as k,i as Mt,f,g as V,D as I,c as r,E as U,l as x,a as d,b as e,w as m,u as p,I as _,F as y,h as w,t as o,G as E,H,r as jt,e as n,Q as Rt,d as Ve,j as St,o as a,k as O}from"./index-BxOnwd-r.js";import{_ as Ot,B as At}from"./Market_NavBar-Dx7qjnH-.js";import{B as b}from"./BaseLabel-Cx3BE31_.js";import{_ as A}from"./BaseInputField-CtCxMLML.js";import{_ as me}from"./BaseRadioButton-Cu65CXdC.js";import{c as $t,r as J,u as Me,B as z,m as je}from"./BaseError-BRNWcK4p.js";import{_ as Re,B as Dt,a as K}from"./BaseSelectField-BWuXU7IG.js";import{_ as Tt}from"./Footer-Dgvw29E3.js";import{L as It,T as Ut}from"./Toast-oS8K0J6L.js";import{l as Lt}from"./lodash-DPThQObe.js";/* empty css                                                              */const qt={class:"p-10 w-full h-full"},Ft={class:"flex items-center space-x-10"},Nt={class:"cursor-pointer relative"},Bt=["src"],Et={class:"absolute bottom-0 right-0 bg-white p-1 rounded-full shadow"},zt={class:"w-full mt-8"},Qt={class:"overflow-x-auto whitespace-nowrap border-b border-gray-300"},Wt={class:"flex gap-4 sm:gap-6 md:gap-8 w-max"},Yt=["onClick"],Gt={class:"mt-4"},Ht={key:0,class:"tab-content"},Jt={class:"p-4"},Kt={key:0,class:"fixed bottom-4 right-4 2xl:w-[900px] 2xs:w-[470px] 2xl:h-[85vh] 2xs:h-[65vh] bg-white rounded-lg shadow-lg flex flex-col border z-50"},Xt={class:"p-4 border-b rounded-sm bg-gray-100 flex justify-between items-center"},Zt={class:"flex flex-1 overflow-hidden"},es={class:"w-1/3 bg-white border-r border-gray-300 p-4 flex flex-col"},ts={class:"flex"},ss={class:"mt-3 flex-1 overflow-auto"},ls=["onClick"],os=["src"],as={class:"flex-1"},rs={class:"font-semibold"},ds={class:"text-xs text-gray-500 truncate"},ns={key:0,class:"text-xs bg-red-500 text-white px-2 py-1 rounded-full"},is=["onClick"],us={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50"},ms={class:"bg-white p-6 rounded shadow-lg w-96"},cs={class:"flex justify-around mt-4"},xs={class:"w-full flex flex-col"},ps={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},fs={key:1,class:"flex flex-col h-full"},gs={class:"p-4 border-b flex justify-between items-center bg-gray-100"},vs={class:"text-lg font-semibold"},bs={class:"flex-1 bg-gray-50 p-4 overflow-auto space-y-4 2xl:text-sm 2xs:text-sm max-h-[400px]"},hs=["src"],ys={class:"text-xs"},_s=["src"],ws={class:"p-4 border-t bg-gray-50 flex items-center"},ks={class:"p-6"},Cs={class:"overflow-x-auto whitespace-nowrap border-b border-gray-300 bg-[#285a19] rounded-md p-2"},Ps={class:"flex space-x-4 w-max"},Vs=["onClick"],Ms={class:"mt-6"},js={key:0},Rs={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Ss={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Os=["src"],As={class:"ml-3 sm:ml-4 flex-grow"},$s={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Ds={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Ts={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Is={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Us={class:"font-semibold"},Ls={class:"flex items-center gap-2 sm:gap-3"},qs={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Fs={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Ns={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Bs={class:"bg-white p-5 md:p-7 rounded-lg shadow-lg w-full max-w-[90%] md:max-w-[500px]"},Es={class:"text-end"},zs={class:"mt-4 p-4 bg-[#608C54] rounded-md flex flex-col items-center text-center"},Qs={class:"text-sm mt-3"},Ws={key:1},Ys={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Gs={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Hs=["src"],Js={class:"ml-3 sm:ml-4 flex-grow"},Ks={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Xs={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Zs={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},el={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},tl={class:"font-semibold"},sl={class:"flex items-center gap-2 sm:gap-3"},ll={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},ol={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},al={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},rl={class:"bg-white p-5 md:p-7 rounded-lg shadow-lg w-full max-w-[90%] md:max-w-[500px]"},dl={class:"text-end"},nl={class:"mt-4 p-4 bg-[#608C54] rounded-md flex flex-col items-center text-center"},il={class:"text-sm mt-3"},ul={class:"mt-4 flex justify-end space-x-2"},ml={key:2},cl={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},xl={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},pl=["src"],fl={class:"ml-3 sm:ml-4 flex-grow"},gl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},vl={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},bl={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},hl={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},yl={class:"font-semibold"},_l={class:"flex items-center gap-2 sm:gap-3"},wl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},kl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Cl={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},Pl={class:"bg-white p-7 rounded-lg shadow-lg w-full max-w-4xl flex flex-col md:flex-row relative"},Vl={class:"flex-1 p-6"},Ml={class:"p-6 bg-white shadow-lg rounded-lg text-sm h-80 overflow-y-auto"},jl={class:"flex items-center justify-center mb-6 overflow-x-auto"},Rl={class:"flex w-full items-center space-x-4"},Sl={class:"flex flex-col items-center"},Ol={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Al={class:"border-l-2 border-gray-300 pl-2"},$l={class:"text-gray-700"},Dl={class:"text-xs text-gray-500"},Tl={class:"w-full md:w-1/3 p-4 bg-green-100 rounded-lg flex flex-col items-center"},Il=["src"],Ul={class:"text-lg font-semibold"},Ll={class:"text-gray-600"},ql={class:"text-lg font-bold mt-2"},Fl={key:3},Nl={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Bl={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},El=["src"],zl={class:"ml-3 sm:ml-4 flex-grow"},Ql={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Wl={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Yl={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Gl={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Hl={class:"font-semibold"},Jl={class:"flex items-center gap-2 sm:gap-3"},Kl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Xl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Zl={class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},eo={class:"flex space-x-2"},to=["disabled","title","onClick"],so={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},lo={class:"bg-white rounded-lg p-6 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl 2xl:max-w-2xl relative"},oo={class:"bg-green-700 text-white p-4 rounded-lg flex items-center gap-3 mt-4"},ao=["src"],ro={class:"font-bold"},no={class:"text-xs sm:text-sm"},io={class:"mt-4 flex items-center space-x-2"},uo={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},mo={class:"bg-white p-5 rounded-lg w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-2xl 2xl:max-w-3xl h-auto relative flex flex-col md:flex-row gap-6 max-h-[80vh] overflow-y-auto"},co={class:"w-full md:w-1/2 flex flex-col"},xo={class:"mt-1"},po={class:"w-full md:w-1/2 flex flex-col"},fo={class:"text-gray-700 text-xs sm:text-sm"},go={key:4},vo={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},bo={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},ho=["src"],yo={class:"ml-3 sm:ml-4 flex-grow"},_o={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},wo={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},ko={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Co={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Po={class:"font-semibold"},Vo={class:"flex items-center gap-2 sm:gap-3"},Mo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},jo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Ro={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},So={class:"bg-white max-w-3xl w-full rounded-lg shadow-lg p-6 relative"},Oo={class:"text-gray-500 text-sm"},Ao={class:"mt-4 flex items-center space-x-4 border-t pt-4"},$o=["src"],Do={class:"flex-1"},To={class:"font-semibold"},Io={class:"text-gray-500 text-sm"},Uo={class:"text-right"},Lo={class:"text-gray-400 line-through"},qo={class:"mt-4 border-t pt-4 text-sm"},Fo={class:"flex justify-between mt-2"},No={class:"font-medium"},Bo={class:"flex justify-between mt-2"},Eo=["href"],zo={class:"mt-6 border-t pt-4 text-gray-700 font-semibold"},Qo={class:"font-normal"},Wo={key:5},Yo={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Go={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Ho=["src"],Jo={class:"ml-3 sm:ml-4 flex-grow"},Ko={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Xo={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Zo={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},ea={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},ta={class:"font-semibold"},sa={class:"flex items-center gap-2 sm:gap-3"},la={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},oa={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},aa={key:1,class:"tab-content p-4"},ra={class:"flex flex-col md:flex-row justify-start space-y-4 md:space-y-0 md:space-x-6"},da={class:"flex flex-col"},na={class:"text-black text-sm"},ia={class:"text-black text-sm"},ua={class:"text-black text-sm"},ma={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ca={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto shadow-lg"},xa={class:"space-y-3"},pa={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},fa={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-lg"},ga={class:"space-y-3"},va={class:"relative"},ba={class:"relative"},ha={key:2,class:"tab-content"},ya={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},_a={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6"},wa={class:"flex justify-between items-center mb-4"},ka={class:"mb-4"},Ca={class:"mb-4"},Pa={class:"mt-3 space-y-4"},Va={class:"flex space-x-2 mt-2 justify-end"},Ma=["onClick"],ja={key:3,class:"tab-content"},Ra={class:"mb-4 flex items-center space-x-2"},Sa={class:"flex flex-col items-center"},Oa={class:"max-h-[300px] sm:max-h-[400px] overflow-y-auto w-full"},Aa={class:"min-w-full bg-white"},$a={key:0},Da={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Ta={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Ia={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Ua={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},La={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},qa={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Fa={key:1},Na={colspan:"5",class:"px-4 py-2 text-center text-sm text-gray-500"},Ba={__name:"MyProfile",setup(Ea){const i=Mt();St();const Se=k(()=>i.state.showLoading.state),L=f("My Purchase"),Oe=f(["My Purchase","My Profile","Billing Address","Report"]),g=k(()=>{var l;return((l=i.state.userData.data)==null?void 0:l.user)||{}}),ce=k(()=>i.state.Consumer.conversation.data),xe=k(()=>i.state.Consumer.message.data),M=k(()=>{var l,t;return((t=(l=i.state.userData.data)==null?void 0:l.user)==null?void 0:t.id)||null}),Ae=k(()=>{var l,t;return((t=(l=i.state.userData.data)==null?void 0:l.user)==null?void 0:t.avatar)||defaultAvatar.value}),pe=k(()=>i.state.Consumer.address.data),$e=k(()=>i.state.Consumer.purchase.data),De=k(()=>i.state.Consumer.toShip.data),Te=k(()=>i.state.Consumer.toReceive.data),X=k(()=>i.state.Consumer.toComplete.data),Ie=k(()=>i.state.Consumer.toCancel.data),Ue=k(()=>i.state.Consumer.toRefund.data),Le=k(()=>i.state.Consumer.reason.data),qe=k(()=>i.state.Consumer.report.data),$=f(""),j=f(""),Fe=l=>{const[t,c,s]=l.split(" "),ue={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}[t];return`${s}-${ue}-${c.padStart(2,"0")}`},Q=k(()=>{let l=[...qe.value];return j.value&&(l=l.filter(t=>t.status===j.value)),$.value&&(l=l.filter(t=>Fe(t.created_at)===$.value)),l}),fe=Lt.debounce(()=>{},300),Ne=()=>{$.value="",fe()},Be=()=>{j.value="",fe()},Ee=()=>{const l=window.open("","_blank");let t=`
        <html>
        <head>
            <title>Print Report</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
                th { background-color: #f2f2f2; }
                h1 { text-align: center; }
            </style>
        </head>
        <body>
            <h1>Order Report</h1>
            <table>
                <thead>
                    <tr>
                        <th>Orders</th>
                        <th>Quantity</th>
                        <th>Payment Method</th>
                        <th>Status</th>
                        <th>Total Amount</th>
                    </tr>
                </thead>
                <tbody>
    `;Q.value.length>0?Q.value.forEach(c=>{t+=`
                <tr>
                    <td>${c.product_name}</td>
                    <td>${c.quantity}</td>
                    <td>${c.payment_method}</td>
                    <td>${c.status}</td>
                    <td>${c.total_amount}</td>
                </tr>
            `}):t+=`
            <tr>
                <td colspan="5">No orders found for the selected filters</td>
            </tr>
        `,t+=`
                </tbody>
            </table>
        </body>
        </html>
    `,l.document.write(t),l.document.close(),l.focus(),l.print(),l.close()};function ze(){i.dispatch("Consumer/getReport")}V(()=>{ze()});function Qe(){i.dispatch("Consumer/getReason")}V(()=>{Qe()});const h=I({first_name:g.value.first_name||"",middle_name:g.value.middle_name||"",last_name:g.value.last_name||"",email:g.value.email||"",phone_number:g.value.phone_number||""}),Z=f(!1),We=()=>{Z.value=!0},ge=()=>{Z.value=!1},Ye=async()=>{var l,t;try{await i.dispatch("updateProfile",{id:g.value.id,first_name:h.first_name,middle_name:h.middle_name,last_name:h.last_name,phone_number:h.phone_number,email:h.email}),g.value.first_name=h.first_name,g.value.middle_name=h.middle_name,g.value.last_name=h.last_name,g.value.phone_number=h.phone_number,g.value.email=h.email,ge()}catch(c){if((t=(l=c.response)==null?void 0:l.data)!=null&&t.errors){const s=c.response.data.errors,u=Object.keys(s)[0];u&&alert(s[u][0])}else console.error("Error updating profile:",c),alert("An unexpected error occurred.")}},P=I({password:g.value.password||"",password_confirmation:g.value.password_confirmation||""}),W=f(!1),Ge=()=>{W.value=!W.value},Y=f(!1),He=()=>{Y.value=!Y.value},ee=f(!1),Je=()=>{ee.value=!0},ve=()=>{ee.value=!1},Ke=async()=>{var l,t;try{if(P.password!==P.password_confirmation){alert("Passwords do not match");return}await i.dispatch("updatePassword",{id:g.value.id,password:P.password,password_confirmation:P.password_confirmation}),ve(),P.password="",P.password_confirmation=""}catch(c){if((t=(l=c.response)==null?void 0:l.data)!=null&&t.errors){const s=c.response.data.errors,u=Object.keys(s)[0];u&&alert(s[u][0])}else console.error("Error updating password:",c),alert("An unexpected error occurred.")}};function Xe(){i.dispatch("Consumer/getPurchase")}V(()=>{Xe()});function Ze(){i.dispatch("Consumer/getPurchaseShip")}V(()=>{Ze()});function et(){i.dispatch("Consumer/getPurchaseReceive")}V(()=>{et()});function tt(){i.dispatch("Consumer/getPurchaseCompleted")}V(()=>{tt()});function st(){i.dispatch("Consumer/getPurchaseCancel")}V(()=>{st()});function lt(){i.dispatch("Consumer/getPurchaseRefund")}V(()=>{lt()});function be(){i.dispatch("Consumer/getAddressList")}V(()=>{be()});const R=I({id:"",delivery_address:"",address_info:""}),te=f(!1),ot=l=>{const t=pe.value.find(c=>c.id===l);t&&(R.id=t.id,R.delivery_address=t.delivery_address,R.address_info=t.address_info,te.value=!0)},at=k(()=>({delivery_address:{required:$t.withMessage("Delivery Address is required",J)}})),se=Me(at,R);async function rt(){await se.value.$validate()&&await i.dispatch("Consumer/updateAddress",R).then(t=>{t.isSuccess==!0&&(le(),be())})}function le(){te.value=!1}f(!1),f(null);const oe=f([{label:"Order Placed",icon:"mdi:cart",completed:!0},{label:"Order Shipped Out",icon:"mdi:truck",completed:!0},{label:"Order Receive",icon:"mdi:package",completed:!0},{label:"Order Complete",icon:"mdi:check-circle",completed:!1}]),dt=f([{text:"Order Complete",time:"17 Oct 20:14",completed:!0},{text:"Parcel delivered",time:"17 Oct 20:02",completed:!0},{text:"Parcel is out for delivery",time:"17 Oct 19:50",completed:!0},{text:"Delivery driver has been assigned",time:"17 Oct 19:40",completed:!0},{text:"Parcel has arrived at the delivery hub: Majon Delivery Hub",time:"17 Oct 19:14",completed:!0},{text:"Parcel has departed from the sorting facility",time:"17 Oct 17:58",completed:!0},{text:"Parcel is loaded into truck, to leave sorting center soon",time:"17 Oct 17:36",completed:!0},{text:"Parcel has arrived at sorting facility",time:"17 Oct 17:04",completed:!0},{text:"Parcel has been received at drop off point: Malolos Warehouse",time:"17 Oct 16:45",completed:!0},{text:"Seller is preparing to ship your parcel",time:"17 Oct 16:20",completed:!0},{text:"Order is placed",time:"17 Oct 16:14",completed:!0}]),D=f({name:"Salad package",variant:"500 Grams",quantity:2}),nt=f("https://via.placeholder.com/300"),ae=f(!1),it=()=>{ae.value=!0};function ut(){ae.value=!1}const he=f(!1);function mt(){he.value=!1}const ye=f(!1);function ct(){ye.value=!1}const re=f(!1),v=I({id:"",reason:"",solution:"",return_method:"",payment_method:"",product_refund_img:""}),de=f(null),C=Me({reason:{required:J,maxLength:je(255)},solution:{required:J},return_method:{required:J},product_refund_img:{maxLength:je(2048)},payment_method:{required:(l,t)=>t.solution!=="Replace"?!!l:!0}},v),xt=l=>{if(console.log("Order ID:",l),console.log("toCompleteList:",X.value),!l){i.commit("showToast",{showToast:!0,toastMessage:"Invalid order ID.",toastType:"error"},{root:!0});return}const t=X.value.find(c=>c.order_id===l);if(!t){i.commit("showToast",{showToast:!0,toastMessage:"Order not found.",toastType:"error"},{root:!0});return}v.id=l,de.value=t.total_amount,re.value=!0},_e=()=>{re.value=!1,v.id="",v.reason="",v.solution="",v.return_method="",v.payment_method="",v.product_refund_img="",de.value=null,C.value.$reset()},pt=l=>{const t=l.target.files[0];if(t&&t.size>2048*1024){i.commit("showToast",{showToast:!0,toastMessage:"File size exceeds 2MB limit.",toastType:"error"},{root:!0});return}v.product_refund_img=t},ft=async()=>{var l,t,c;if(C.value.$touch(),C.value.$error){console.log("Validation errors:",C.value.$errors);return}try{const s=new FormData;s.append("reason",v.reason),s.append("solution",v.solution),s.append("return_method",v.return_method),v.product_refund_img&&s.append("product_refund_img",v.product_refund_img),v.solution!=="Replace"&&s.append("payment_method",v.payment_method);const u=Object.fromEntries(s);console.log("Refund request data:",{id:v.id,...u});const ue=await i.dispatch("Consumer/createRefund",{id:v.id,...u});console.log("Refund creation response:",ue),_e()}catch(s){console.error("Refund request failed:",s),console.log("Error response:",(l=s.response)==null?void 0:l.data),i.commit("showToast",{showToast:!0,toastMessage:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Failed to submit refund request.",toastType:"error"},{root:!0})}},we=["To Pay","To Ship","To Receive","Completed","Cancelled","Return Refund"],T=f(we[0]),ke=f(null),q=I({reasons:""}),ne=f(!1);function N(){ne.value=!1,q.reasons="",ke.value=null}async function gt(){if(!q.reasons||q.reasons==="Select your reason"){i.commit("showToast",{showToast:!0,toastMessage:"Please select a cancellation reason",toastType:"error"},{root:!0});return}try{const l={id:ke.value,reasons:q.reasons};await i.dispatch("Consumer/cancelProduct",l),N()}catch(l){console.error("Cancellation failed:",l)}}const ie=f(!1),S=f(null),B=I({message:""}),vt=()=>{S.value=null},bt=()=>{ie.value=!0},ht=()=>{ie.value=!1},yt=l=>{console.log("Selected chat ID:",l);const t=ce.value.find(c=>c.id===l);S.value=t,i.dispatch("Consumer/getMessages",l)},_t=async()=>{if(!B.message.trim()||!S.value)return;const l={id:S.value.id,message:B.message};try{await i.dispatch("Consumer/sendMessage",l),await i.dispatch("Consumer/getMessages",S.value.id),B.message=""}catch(t){console.error("Failed to send message:",t)}};function Ce(){i.dispatch("Consumer/getConversation")}V(()=>{Ce()});const G=f(!1),F=f(null),wt=(l,t)=>{t.stopPropagation(),G.value=!0,F.value=l},kt=l=>{l.stopPropagation(),G.value=!1,F.value=null},Ct=async()=>{var l;if(F.value)try{await i.dispatch("Consumer/deleteConversation",F.value),G.value=!1,F.value=null,Ce(),((l=S.value)==null?void 0:l.id)===F.value&&(S.value=null,xe.value=[])}catch(t){console.error("Failed to delete conversation:",t)}},Pe=I({avatar:g.value.avatar||""}),Pt=async l=>{const t=l.target.files[0];if(!t)return;const c=new FormData;c.append("avatar",t),c.append("id",g.value.id);try{const s=await i.dispatch("Consumer/addImage",c);if(s&&s.avatar){const u=s.avatar;Pe.avatar=u,g.value.avatar=g.value.avatar,sessionStorage.setItem("userAvatar",u),i.commit("setAvatar",u)}}catch(s){console.error("Image upload failed:",s),alert("Image upload failed. Please try again.")}};return(l,t)=>{const c=jt("n-rate");return a(),r(y,null,[Se.value?(a(),U(It,{key:0,class:"loading"})):x("",!0),d(Ut),e("div",null,[d(Ot),e("div",qt,[d(b,{class:"text-4xl font-bold"},{default:m(()=>t[22]||(t[22]=[n("My Profile")])),_:1}),e("div",Ft,[e("label",Nt,[e("input",{type:"file",accept:"image/*",class:"hidden",onChange:Pt},null,32),e("img",{src:Pe.avatar,alt:"Profile",class:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-md hover:opacity-80 transition duration-200"},null,8,Bt),e("div",Et,[d(p(_),{icon:"ic:twotone-plus",width:"24",height:"24",style:{color:"#9faba4"}})])]),e("div",null,[d(b,{class:"text-xl font-semibold text-gray-800"},{default:m(()=>[n(o(g.value.first_name)+" "+o(g.value.middle_name)+" "+o(g.value.last_name),1)]),_:1})])]),e("div",zt,[e("div",Qt,[e("div",Wt,[(a(!0),r(y,null,w(Oe.value,s=>(a(),r("button",{key:s,onClick:u=>L.value=s,class:O(["px-4 py-2 sm:px-5 md:px-6 text-gray-600 font-medium border-b-2 transition-colors",L.value===s?"border-green-500 text-green-500":"border-transparent hover:border-green-500 hover:text-green-500"])},o(s),11,Yt))),128))])]),e("div",Gt,[L.value==="My Purchase"?(a(),r("div",Ht,[e("div",Jt,[e("button",{onClick:bt,class:"hidden md:flex bg-yellow-100 border-2 border-gray-300 rounded-full p-3 fixed bottom-4 right-4 shadow-md hover:bg-yellow-300 items-center justify-center"},[d(p(_),{icon:"tabler:message",width:"28",height:"28",style:{color:"#608C54"}})])]),ie.value?(a(),r("div",Kt,[e("div",Xt,[t[23]||(t[23]=e("span",{class:"text-xl font-bold text-green-600"},"Chat",-1)),e("button",{onClick:ht,class:"text-gray-600 text-lg"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),e("div",Zt,[e("div",es,[e("div",ts,[d(At,{placeholder:"Search...",class:"2xl:w-[270px] 2xs:w-[137px]"})]),e("div",ss,[(a(!0),r(y,null,w(ce.value,s=>(a(),r("div",{key:s.id,class:"flex items-center p-3 border-b cursor-pointer hover:bg-gray-100 transition duration-200",onClick:u=>yt(s.id)},[e("img",{src:s.chat_partner_avatar||l.defaultAvatar,class:"w-12 h-12 rounded-full border mr-3",alt:"Avatar"},null,8,os),e("div",as,[e("span",rs,o(s.chat_partner_name),1),e("p",ds,o(s.message||"No messages"),1)]),s.unread_messages_count?(a(),r("span",ns,o(s.unread_messages_count),1)):x("",!0),e("button",{onClick:u=>wt(s.id,u)},[d(p(_),{icon:"mdi-light:delete",width:"20",height:"20",style:{color:"#ad1414"}})],8,is),G.value?(a(),r("div",us,[e("div",ms,[t[24]||(t[24]=e("h3",{class:"text-xl font-semibold text-center"},"Are you sure you want to delete this conversation?",-1)),e("div",cs,[e("button",{onClick:Ct,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"},"Yes, Delete"),e("button",{onClick:t[0]||(t[0]=u=>kt(u)),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"},"Cancel")])])])):x("",!0)],8,ls))),128))])]),e("div",xs,[S.value?(a(),r("div",fs,[e("div",gs,[e("h2",vs,o(S.value.chat_partner_name),1),e("button",{onClick:vt,class:"text-gray-500"},"Close")]),e("div",bs,[(a(!0),r(y,null,w(xe.value,s=>(a(),r("div",{key:s.id,class:O(["flex items-start space-x-3",{"justify-end":s.sender.id===M.value,"justify-start":s.sender.id!==M.value}])},[s.sender.id!==M.value?(a(),r("img",{key:0,src:s.sender.avatar||l.defaultAvatar,class:"w-8 h-8 rounded-full"},null,8,hs)):x("",!0),e("div",{class:O(["p-3 rounded-lg shadow-md w-auto max-w-xs",{"bg-green-500 text-white":s.sender.id===M.value,"bg-gray-200 text-black":s.sender.id!==M.value}])},[e("p",{class:O(["text-sm font-bold",{"text-white":s.sender.id===M.value,"text-green-600":s.sender.id!==M.value}])},o(s.sender.id===M.value?"You":s.sender.first_name+" "+s.sender.last_name),3),e("p",ys,o(s.message),1)],2),s.sender.id===M.value?(a(),r("img",{key:1,src:Ae.value||l.defaultAvatar,class:"w-8 h-8 rounded-full"},null,8,_s)):x("",!0)],2))),128))]),e("div",ws,[E(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>B.message=s),type:"text",placeholder:"Type a message...",class:"flex-1 p-2 border rounded-md text-sm"},null,512),[[H,B.message]]),e("button",{onClick:_t,class:"ml-2 bg-green-500 text-white px-4 py-2 rounded-md transition duration-200 hover:bg-green-700"}," Send ")])])):(a(),r("div",ps,t[25]||(t[25]=[e("p",{class:"text-xl"},"Welcome to Pagsasaka Chat",-1)])))])])])):x("",!0),e("div",ks,[e("div",Cs,[e("div",Ps,[(a(),r(y,null,w(we,s=>e("button",{key:s,onClick:u=>T.value=s,class:O(["px-4 py-2 text-sm font-semibold",[T.value===s?"border-b-2 border-green-600 text-green-600":"text-white"]])},o(s),11,Vs)),64))])]),e("div",Ms,[T.value==="To Pay"?(a(),r("div",js,[e("div",Rs,[(a(!0),r(y,null,w($e.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Ss,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Os),e("div",As,[e("h3",$s,o(s.product_name),1),e("p",Ds," Variants: "+o(s.unit),1),e("div",Ts,[e("p",Is,[t[26]||(t[26]=n(" Seller: ")),e("span",Us,o(s.farmer_name),1)]),e("div",Ls,[t[27]||(t[27]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",qs,o(s.quantity),1),t[28]||(t[28]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",Fs," ₱"+o(s.total_amount),1)])])])]),t[29]||(t[29]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Pending")]),e("div",{class:"flex space-x-2"})])],-1))]))),128)),ne.value?(a(),r("div",Ns,[e("div",Bs,[e("div",Es,[e("button",{onClick:N,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),t[33]||(t[33]=e("h3",{class:"text-lg md:text-xl font-semibold text-center mb-4"}," Select Cancellation Reason ",-1)),e("div",zs,[d(p(_),{icon:"noto:bell",width:"50",height:"50",class:"mb-4"}),t[30]||(t[30]=e("p",{class:"text-sm md:text-base text-white"}," Please select a cancellation reason. Once your order is successfully canceled, your refund will be processed immediately and may take 10 to 45 minutes to reflect in your account. ",-1))]),e("div",Qs,[d(b,{class:"font-semibold"},{default:m(()=>t[31]||(t[31]=[n("*Select Your Reason")])),_:1}),d(Re,{modelValue:q.reasons,"onUpdate:modelValue":t[2]||(t[2]=s=>q.reasons=s)},{default:m(()=>[d(Dt,null,{default:m(()=>t[32]||(t[32]=[n("Select your reason")])),_:1}),(a(!0),r(y,null,w(Le.value,s=>(a(),U(K,{key:s.id,value:s.id},{default:m(()=>[n(o(s.reasons),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e("div",{class:"mt-4 flex justify-end space-x-2"},[e("button",{onClick:N,class:"px-4 py-2 text-sm font-semibold text-gray-700 border border-gray-300 rounded hover:bg-gray-100"}," Close"),e("button",{onClick:gt,class:"px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 border border-red-500 rounded hover:bg-red-200"}," Confirm ")])])])):x("",!0)])])):T.value==="To Ship"?(a(),r("div",Ws,[e("div",Ys,[(a(!0),r(y,null,w(De.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Gs,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Hs),e("div",Js,[e("h3",Ks,o(s.product_name),1),e("p",Xs," Variants: "+o(s.unit),1),e("div",Zs,[e("p",el,[t[34]||(t[34]=n(" Seller: ")),e("span",tl,o(s.farmer_name),1)]),e("div",sl,[t[35]||(t[35]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",ll,o(s.quantity),1),t[36]||(t[36]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",ol," ₱"+o(s.total_amount),1)])])])]),t[37]||(t[37]=Ve('<div data-v-c6db2d76><div class="mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4" data-v-c6db2d76><div class="flex items-center gap-2 sm:gap-3" data-v-c6db2d76><h1 class="text-xs sm:text-sm 2xl:text-base" data-v-c6db2d76>Seller Preparing your Goods:</h1><span class="text-xs sm:text-sm 2xl:text-base font-medium text-gray-500" data-v-c6db2d76>Waiting for Courier</span></div><div class="flex space-x-2" data-v-c6db2d76></div></div></div>',1))]))),128)),ne.value?(a(),r("div",al,[e("div",rl,[e("div",dl,[e("button",{onClick:N,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),t[39]||(t[39]=e("h3",{class:"text-lg md:text-xl font-semibold text-center mb-4"}," Select Cancellation Reason ",-1)),e("div",nl,[d(p(_),{icon:"noto:bell",width:"50",height:"50",class:"mb-4"}),t[38]||(t[38]=e("p",{class:"text-sm md:text-base text-white"}," Please select a cancellation reason. Once your order is successfully canceled, your refund will be processed immediately and may take 10 to 45 minutes to reflect in your account. ",-1))]),e("div",il,[(a(),r(y,null,w(["Need to change delivery address","Seller is not responsive to my inquiries","Others / Change of mind"],s=>d(me,{key:s,name:"tinIdOption",label:s,value:s,modelValue:l.tinIdSelected,"onUpdate:modelValue":t[3]||(t[3]=u=>l.tinIdSelected=u)},null,8,["label","value","modelValue"])),64))]),e("div",ul,[e("button",{onClick:N,class:"px-4 py-2 text-sm font-semibold text-gray-700 border border-gray-300 rounded hover:bg-gray-100"}," Close"),e("button",{onClick:t[4]||(t[4]=(...s)=>l.Save&&l.Save(...s)),class:"px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 border border-red-500 rounded hover:bg-red-200"}," Confirm ")])])])):x("",!0)])])):T.value==="To Receive"?(a(),r("div",ml,[e("div",cl,[(a(!0),r(y,null,w(Te.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",xl,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,pl),e("div",fl,[e("h3",gl,o(s.product_name),1),e("p",vl," Variants: "+o(s.unit),1),e("div",bl,[e("p",hl,[t[40]||(t[40]=n(" Seller: ")),e("span",yl,o(s.farmer_name),1)]),e("div",_l,[t[41]||(t[41]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",wl,o(s.quantity),1),t[42]||(t[42]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",kl," ₱"+o(s.total_amount),1)])])])]),t[43]||(t[43]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Seller Has shipped your goods:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"To Receive")])])],-1))]))),128)),he.value?(a(),r("div",Cl,[e("div",Pl,[e("button",{onClick:mt,class:"absolute top-2 right-2 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),e("div",Vl,[t[44]||(t[44]=e("div",{class:"flex justify-center items-center mb-4"},[e("h3",{class:"text-xl font-semibold ml-4"},"Tracking Details")],-1)),e("div",Ml,[e("div",jl,[e("div",Rl,[(a(!0),r(y,null,w(oe.value,(s,u)=>(a(),r("div",{key:u,class:"flex items-center"},[e("div",Sl,[e("div",{class:O(["w-10 h-10 md:w-14 md:h-14 flex items-center justify-center rounded-full border-2",s.completed?"bg-green-300 text-white border-green-500":"bg-gray-200 text-gray-500 border-gray-300"])},[d(p(_),{icon:s.icon,class:"text-lg md:text-xl"},null,8,["icon"])],2),e("span",{class:O(["text-xs text-center mt-2",s.completed?"text-green-600":"text-gray-400"])},o(s.label),3)]),u<oe.value.length-1?(a(),r("div",{key:0,class:O(["w-12 md:w-20 h-1",oe.value[u+1].completed?"bg-green-500":"bg-gray-300"])},null,2)):x("",!0)]))),128))])]),e("div",Ol,[e("div",null,[e("ul",Al,[(a(!0),r(y,null,w(dt.value,(s,u)=>(a(),r("li",{key:u,class:"mb-4 relative"},[e("span",{class:O(["absolute -left-3 w-2 h-2 rounded-full",s.completed?"bg-green-500":"bg-gray-400"])},null,2),e("p",$l,o(s.text),1),e("p",Dl,o(s.time),1)]))),128))])])])])]),e("div",Tl,[e("img",{src:nt.value,alt:"Product Image",class:"rounded-lg mb-4 w-full"},null,8,Il),e("h3",Ul,o(D.value.name),1),e("p",Ll,"Variants: "+o(D.value.unit),1),e("p",ql,"Qty "+o(D.value.quantity),1)])])])):x("",!0)])])):T.value==="Completed"?(a(),r("div",Fl,[e("div",Nl,[(a(!0),r(y,null,w(X.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Bl,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,El),e("div",zl,[e("h3",Ql,o(s.product_name),1),e("p",Wl," Variants: "+o(s.unit),1),e("div",Yl,[e("p",Gl,[t[45]||(t[45]=n(" Seller: ")),e("span",Hl,o(s.farmer_name),1)]),e("div",Jl,[t[46]||(t[46]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",Kl,o(s.quantity),1),t[47]||(t[47]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",Xl," ₱"+o(s.total_amount),1)])])])]),e("div",null,[e("div",Zl,[t[48]||(t[48]=e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Parcel has been delivered:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Completed")],-1)),e("div",eo,[e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-red-600 border border-red-500 rounded hover:bg-red-50",disabled:!s.order_id,title:s.order_id?"":"Order ID is missing",onClick:u=>xt(s.order_id)}," Request/Refund ",8,to)])])])]))),128)),ye.value?(a(),r("div",so,[e("div",lo,[e("button",{onClick:ct,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),t[50]||(t[50]=e("h2",{class:"text-lg font-semibold"},"Rate Products",-1)),e("div",oo,[e("img",{src:D.value,alt:"Product Image",class:"w-12 h-12 sm:w-14 sm:h-14 rounded-md"},null,8,ao),e("div",null,[e("p",ro,o(l.product_name),1),e("p",no,"Variants: "+o(l.productVariant),1)])]),e("div",io,[t[49]||(t[49]=e("p",{class:"font-semibold text-sm"},"Product Quantity",-1)),d(c,{clearable:"","allow-half":""})]),E(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.review=s),class:"w-full p-3 mt-3 border rounded-md text-xs sm:text-sm",placeholder:"Share your thoughts on the product to help other buyers"},null,512),[[H,l.review]]),e("button",{onClick:t[6]||(t[6]=(...s)=>l.submitReview&&l.submitReview(...s)),class:"w-full bg-green-700 hover:bg-green-500 text-white py-2 mt-4 rounded-lg font-semibold"}," Submit ")])])):x("",!0),re.value?(a(),r("div",uo,[e("div",mo,[e("button",{onClick:_e,class:"absolute top-3 right-2 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),e("div",co,[e("div",xo,[d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[51]||(t[51]=[n("*Reason:")])),_:1}),E(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>v.reason=s),class:"text-xs sm:text-sm w-full mt-1 p-2 border rounded resize-none h-20",placeholder:"Leave your comment here"},null,512),[[H,v.reason]]),p(C).reason.$error?(a(),U(z,{key:0},{default:m(()=>[n(o(p(C).reason.$errors[0].$message),1)]),_:1})):x("",!0)]),t[53]||(t[53]=e("hr",{class:"my-2 border-gray-300"},null,-1)),t[54]||(t[54]=e("div",{class:"text-xs text-gray-600"}," *Upload a clear photo/video showing the received parcel and product(s) ",-1)),d(b,{class:"font-semibold"},{default:m(()=>t[52]||(t[52]=[n("Upload Image")])),_:1}),e("input",{type:"file",onChange:pt,accept:"image/*,application/pdf",class:"w-full border p-2 rounded"},null,32),p(C).product_refund_img.$error?(a(),U(z,{key:0},{default:m(()=>[n(o(p(C).product_refund_img.$errors[0].$message),1)]),_:1})):x("",!0)]),e("div",po,[d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[55]||(t[55]=[n("Solution:")])),_:1}),d(Re,{modelValue:v.solution,"onUpdate:modelValue":t[8]||(t[8]=s=>v.solution=s),class:"w-full mt-1 p-2 border rounded text-xs sm:text-sm"},{default:m(()=>[d(K,{value:""},{default:m(()=>t[56]||(t[56]=[n("Type")])),_:1}),d(K,{value:"Refund"},{default:m(()=>t[57]||(t[57]=[n("Refund")])),_:1}),d(K,{value:"Replace"},{default:m(()=>t[58]||(t[58]=[n("Replacement")])),_:1})]),_:1},8,["modelValue"]),p(C).solution.$error?(a(),U(z,{key:0},{default:m(()=>[n(o(p(C).solution.$errors[0].$message),1)]),_:1})):x("",!0),t[62]||(t[62]=e("hr",{class:"my-3 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[59]||(t[59]=[n("Refund Amount:")])),_:1}),e("p",fo,o(de.value),1),t[63]||(t[63]=e("hr",{class:"my-1 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[60]||(t[60]=[n("Choose return method")])),_:1}),(a(),r(y,null,w(["Pick Up","Drop-off"],s=>d(me,{key:s,name:"returnMethod",label:s,value:s,modelValue:v.return_method,"onUpdate:modelValue":t[9]||(t[9]=u=>v.return_method=u)},null,8,["label","value","modelValue"])),64)),p(C).return_method.$error?(a(),U(z,{key:1},{default:m(()=>[n(o(p(C).return_method.$errors[0].$message),1)]),_:1})):x("",!0),t[64]||(t[64]=e("hr",{class:"my-2 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[61]||(t[61]=[n("Payment Method:")])),_:1}),(a(),r(y,null,w(["E-Wallet"],s=>d(me,{key:s,name:"paymentMethod",label:s,value:s,modelValue:v.payment_method,"onUpdate:modelValue":t[10]||(t[10]=u=>v.payment_method=u)},null,8,["label","value","modelValue"])),64)),e("button",{onClick:ft,class:"bg-green-600 text-white border py-2 px-6 rounded mt-3 text-xs sm:text-sm"}," Confirm ")])])])):x("",!0)])])):T.value==="Cancelled"?(a(),r("div",go,[e("div",vo,[(a(!0),r(y,null,w(Ie.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",bo,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,ho),e("div",yo,[e("h3",_o,o(s.product_name),1),e("p",wo," Variants: "+o(s.unit),1),e("div",ko,[e("p",Co,[t[65]||(t[65]=n(" Seller: ")),e("span",Po,o(s.farmer_name),1)]),e("div",Vo,[t[66]||(t[66]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",Mo,o(s.quantity),1),t[67]||(t[67]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",jo," ₱"+o(s.total_amount),1)])])])]),e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[t[69]||(t[69]=e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Cancelled by You:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Cancelled")],-1)),e("div",{class:"flex space-x-2"},[t[68]||(t[68]=e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-green-700 border border-green-600 rounded hover:bg-green-50"}," Buy Again ",-1)),e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-red-600 border border-red-500 rounded hover:bg-red-50",onClick:it}," View Cancellation Details ")])])])]))),128)),ae.value?(a(),r("div",Ro,[e("div",So,[e("button",{onClick:ut,class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),t[74]||(t[74]=e("div",{class:"text-red-600 font-bold text-lg"},"Cancellation Completed",-1)),e("p",Oo,"on "+o(l.cancellationDate),1),t[75]||(t[75]=e("div",{class:"mt-4 flex items-center justify-between"},[e("div",{class:"flex items-center"},[e("span",{class:"ml-2 text-gray-500"},"Shop Name:")]),e("button",{class:"text-blue-500 underline text-sm"},"View Shop")],-1)),e("div",Ao,[e("img",{src:D.value.image,alt:"Product Image",class:"w-20 h-20 object-cover"},null,8,$o),e("div",Do,[e("p",To,o(D.value.name),1),e("p",Io,"x"+o(D.value.quantity),1)]),e("div",Uo,[e("p",Lo,"₱"+o(D.value.originalPrice),1)])]),e("div",qo,[t[72]||(t[72]=e("div",{class:"flex justify-between"},[e("span",{class:"text-gray-500"},"Requested by"),e("span",{class:"font-medium"},"Buyer")],-1)),e("div",Fo,[t[70]||(t[70]=e("span",{class:"text-gray-500"},"Payment method",-1)),e("span",No,o(l.paymentMethod),1)]),e("div",Bo,[t[71]||(t[71]=e("span",{class:"text-gray-500"},"Order ID",-1)),e("a",{href:l.orderLink,class:"text-red-500 font-medium underline"},o(l.orderId),9,Eo)])]),e("div",zo,[t[73]||(t[73]=n(" Reason: ")),e("span",Qo,o(l.reason),1)])])])):x("",!0)])])):T.value==="Return Refund"?(a(),r("div",Wo,[e("div",Yo,[(a(!0),r(y,null,w(Ue.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Go,[e("img",{src:s.product_img[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Ho),e("div",Jo,[e("h3",Ko,o(s.product_name),1),e("p",Xo," Variants: "+o(s.unit),1),e("div",Zo,[e("p",ea,[t[76]||(t[76]=n(" Seller: ")),e("span",ta,o(s.seller_name),1)]),e("div",sa,[t[77]||(t[77]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",la,o(s.quantity),1),t[78]||(t[78]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",oa," ₱"+o(s.total_amount),1)])])])]),t[79]||(t[79]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"}),e("div",{class:"flex space-x-2"})])],-1))]))),128))])])):x("",!0)])])])):x("",!0),L.value==="My Profile"?(a(),r("div",aa,[e("div",ra,[e("div",da,[d(b,{class:"font-semibold"},{default:m(()=>t[80]||(t[80]=[n("Name:")])),_:1}),e("span",na,o(g.value.first_name)+" "+o(g.value.middle_name)+" "+o(g.value.last_name),1),d(b,{class:"font-semibold"},{default:m(()=>t[81]||(t[81]=[n("E-Wallet Number:")])),_:1}),e("span",ia,o(g.value.phone_number),1),d(b,{class:"font-semibold"},{default:m(()=>t[82]||(t[82]=[n("Email Address:")])),_:1}),e("span",ua,o(g.value.email),1)])]),Z.value?(a(),r("div",ma,[e("div",ca,[t[88]||(t[88]=e("h2",{class:"text-lg font-semibold mb-4"},"Edit Consumer Info",-1)),e("div",xa,[e("div",null,[d(b,null,{default:m(()=>t[83]||(t[83]=[n("First Name")])),_:1}),d(A,{modelValue:h.first_name,"onUpdate:modelValue":t[11]||(t[11]=s=>h.first_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[84]||(t[84]=[n("Middle Name")])),_:1}),d(A,{modelValue:h.middle_name,"onUpdate:modelValue":t[12]||(t[12]=s=>h.middle_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[85]||(t[85]=[n("Last Name")])),_:1}),d(A,{modelValue:h.last_name,"onUpdate:modelValue":t[13]||(t[13]=s=>h.last_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[86]||(t[86]=[n("E-Wallet Number")])),_:1}),d(A,{modelValue:h.phone_number,"onUpdate:modelValue":t[14]||(t[14]=s=>h.phone_number=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[87]||(t[87]=[n("Email")])),_:1}),d(A,{modelValue:h.email,"onUpdate:modelValue":t[15]||(t[15]=s=>h.email=s),type:"email",class:"w-full"},null,8,["modelValue"])]),e("div",{class:"flex text-sm justify-end space-x-2 pt-2"},[e("button",{type:"button",onClick:ge,class:"rounded-full px-4 py-2 bg-gray-300 hover:bg-gray-400"}," Cancel "),e("button",{onClick:Ye,class:"rounded-full bg-[#608C54] py-2 px-6 w-32 md:w-28 hover:bg-gray-200 text-white"}," Save ")])])])])):x("",!0),ee.value?(a(),r("div",pa,[e("div",fa,[t[91]||(t[91]=e("h2",{class:"text-lg font-semibold mb-4"},"Change Password",-1)),e("div",ga,[e("div",va,[d(b,{class:"font-semibold"},{default:m(()=>t[89]||(t[89]=[n("*New Password")])),_:1}),d(A,{modelValue:P.password,"onUpdate:modelValue":t[16]||(t[16]=s=>P.password=s),type:W.value?"text":"password",placeholder:"Enter Your Password",class:"w-full"},null,8,["modelValue","type"]),e("button",{type:"button",class:"absolute right-3 2xl:top-10 lg:top-10 md:top-11 2xs:top-12 text-gray-500",onClick:Ge},[d(p(_),{icon:W.value?"ic:twotone-visibility-off":"ic:twotone-visibility"},null,8,["icon"])])]),e("div",ba,[d(b,{class:"font-semibold"},{default:m(()=>t[90]||(t[90]=[n("*Re-enter Password")])),_:1}),d(A,{modelValue:P.password_confirmation,"onUpdate:modelValue":t[17]||(t[17]=s=>P.password_confirmation=s),type:Y.value?"text":"password",placeholder:"Re-enter password",class:"w-full"},null,8,["modelValue","type"]),e("button",{type:"button",class:"absolute right-3 2xl:top-10 lg:top-10 md:top-11 2xs:top-12 text-gray-500",onClick:He},[d(p(_),{icon:Y.value?"ic:twotone-visibility-off":"ic:twotone-visibility"},null,8,["icon"])])]),e("div",{class:"flex justify-end space-x-2 pt-2"},[e("button",{type:"button",onClick:ve,class:"rounded-full px-4 py-2 bg-gray-300 hover:bg-gray-400"}," Cancel "),e("button",{onClick:Ke,class:"rounded-full bg-[#608C54] py-2 px-6 w-32 md:w-28 hover:bg-gray-200 text-white"}," Save ")])])])])):x("",!0),e("div",{class:"mt-4 flex flex-col md:flex-row justify-end gap-2 md:gap-4"},[e("button",{class:"bg-green-700 text-white px-8 py-2 rounded-full hover:bg-green-500 transition",onClick:We}," Edit"),e("button",{class:"bg-green-700 text-white px-6 py-2 rounded-full hover:bg-green-500 transition",onClick:Je}," Change Password")])])):x("",!0),L.value==="Billing Address"?(a(),r("div",ha,[e("div",null,[te.value?(a(),r("div",ya,[e("div",_a,[e("div",wa,[t[92]||(t[92]=e("h3",{class:"text-xl font-semibold"},"Update Address",-1)),e("button",{onClick:le,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),e("div",ka,[d(b,null,{default:m(()=>t[93]||(t[93]=[n("Address:")])),_:1}),d(A,{modelValue:R.delivery_address,"onUpdate:modelValue":t[18]||(t[18]=s=>R.delivery_address=s)},null,8,["modelValue"]),p(se).delivery_address.$error?(a(),U(z,{key:0},{default:m(()=>[n(o(p(se).delivery_address.$errors[0].$message),1)]),_:1})):x("",!0)]),e("div",Ca,[d(b,null,{default:m(()=>t[94]||(t[94]=[n("Additional Address Info(optional):")])),_:1}),d(A,{modelValue:R.address_info,"onUpdate:modelValue":t[19]||(t[19]=s=>R.address_info=s)},null,8,["modelValue"])]),e("div",{class:"flex justify-end space-x-2"},[e("button",{type:"button",class:"px-4 py-2 bg-gray-200 rounded-md text-gray-700 hover:bg-gray-300",onClick:le},"Cancel "),e("button",{type:"submit",class:"px-6 py-2 bg-[#608C54] text-white rounded-md hover:bg-[#4e7143]",onClick:rt},"Save")])])])):x("",!0)]),e("div",Pa,[t[97]||(t[97]=e("h3",{class:"text-lg font-semibold"},"Saved Address",-1)),e("ul",null,[(a(!0),r(y,null,w(pe.value,s=>(a(),r("li",{key:s.id,class:"border-b py-2"},[e("p",null,[t[95]||(t[95]=e("span",{class:"font-semibold text-[#608C54]"},"Address:",-1)),n(" "+o(s.delivery_address),1)]),e("p",null,[t[96]||(t[96]=e("span",{class:"font-semibold text-[#608C54]"},"Additional Address Info:",-1)),n(" "+o(s.address_info),1)]),e("div",Va,[e("button",{class:"text-blue-500 hover:text-blue-700",onClick:u=>ot(s.id)},[d(p(_),{icon:"bi:pencil-square",width:"20",height:"20",style:{color:"#2543bf"}})],8,Ma)])]))),128))])])])):x("",!0),L.value==="Report"?(a(),r("div",ja,[d(b,{class:"text-lg sm:text-xl md:text-2xl font-semibold text-left mb-4 w-full"},{default:m(()=>t[98]||(t[98]=[n("List of Orders")])),_:1}),e("div",Ra,[t[101]||(t[101]=e("label",{for:"order-date-filter",class:"text-sm font-semibold"},"Filter by Date:",-1)),E(e("input",{id:"order-date-filter","onUpdate:modelValue":t[20]||(t[20]=s=>$.value=s),type:"date",class:"p-2 border rounded-md text-sm"},null,512),[[H,$.value]]),$.value?(a(),r("button",{key:0,onClick:Ne,class:"px-3 py-1 bg-gray-300 text-sm rounded-md hover:bg-gray-400"}," Clear ")):x("",!0),t[102]||(t[102]=e("label",{for:"order-status-filter",class:"text-sm font-semibold"},"Filter by Status:",-1)),E(e("select",{id:"order-status-filter","onUpdate:modelValue":t[21]||(t[21]=s=>j.value=s),class:"p-2 border rounded-md text-sm"},t[99]||(t[99]=[Ve('<option value="" data-v-c6db2d76>All</option><option value="Order placed" data-v-c6db2d76>Order placed</option><option value="Waiting for courier" data-v-c6db2d76>Waiting for courier</option><option value="In transit" data-v-c6db2d76>In transit</option><option value="Order delivered" data-v-c6db2d76>Order delivered</option>',5)]),512),[[Rt,j.value]]),j.value?(a(),r("button",{key:1,onClick:Be,class:"px-3 py-1 bg-gray-300 text-sm rounded-md hover:bg-gray-400"}," Clear Status ")):x("",!0),e("button",{onClick:Ee,class:"flex items-center gap-2 px-3 py-1 bg-green-700 text-white text-sm rounded-md hover:bg-green-600"},[d(p(_),{icon:"arcticons:print",width:"24",height:"24",style:{color:"#f9fffb"}}),t[100]||(t[100]=n(" Print "))])]),e("div",Sa,[e("div",Oa,[e("table",Aa,[t[103]||(t[103]=e("thead",{class:"bg-gray-200 sticky top-0 z-10"},[e("tr",null,[e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Orders"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Quantity"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Payment Method"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Status"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Total Amount"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Date")])],-1)),Q.value.length>0?(a(),r("tbody",$a,[(a(!0),r(y,null,w(Q.value,s=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Da,o(s.product_name),1),e("td",Ta,o(s.quantity),1),e("td",Ia,o(s.payment_method),1),e("td",Ua,o(s.status),1),e("td",La,o(s.total_amount),1),e("td",qa,o(s.created_at),1)]))),128))])):(a(),r("tbody",Fa,[e("tr",null,[e("td",Na,o($.value||j.value?`No orders found for ${$.value||""} ${j.value?j.value:""}`:"No orders available"),1)])]))])])])])):x("",!0)])])]),d(Tt)])],64)}}},tr=Vt(Ba,[["__scopeId","data-v-c6db2d76"]]);export{tr as default};
