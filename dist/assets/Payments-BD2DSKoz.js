import{_ as v}from"./BaseSearchField-qfaTDnHR.js";import{f as p,D as k,c as r,b as t,a as o,u as a,p as C,e as i,F as I,h as L,i as V,j as F,o as n,I as d,t as c}from"./index-Dj-rKxl5.js";const M={class:"bg-[#608C54] shadow p-4 flex justify-between items-center text-white"},S={class:"flex items-center space-x-4"},T={class:"flex space-x-2"},D={class:"relative"},P={key:0,class:"absolute right-0 mt-2 bg-white shadow-lg rounded p-2 w-48"},q={class:"container mx-auto p-4"},G={class:"flex mb-4 space-x-4"},N={class:"mb-3 space-y-3"},B={class:"w-full border-collapse border border-gray-300 rounded-md"},E={class:"bg-gray-300 text-md"},j={class:"px-4 py-2 text-left border-b border-gray-300"},A={class:"px-4 py-2 text-left border-b border-gray-300"},R={class:"px-4 py-2 text-left border-b border-gray-300"},$={class:"px-4 py-2 text-left border-b border-gray-300"},z={class:"px-4 py-2"},H={class:"px-4 py-2"},J={class:"px-4 py-2"},K={key:0,class:"text-red-500"},O={key:1,class:"text-blue-500"},Q={class:"px-4 py-2"},Y={__name:"Payments",setup(U){const u=V(),m=F(),x=p([{date:"10/19/2024",invoiceId:"T00000000001",paymentMethod:"GCash",gcashLastFour:"2212",amount:"₱124.00"},{date:"10/19/2024",invoiceId:"T00000000001",paymentMethod:"GCash",gcashLastFour:"2212",amount:"₱124.00"},{date:"10/19/2024",invoiceId:"T00000000001",paymentMethod:"GCash",gcashLastFour:"2212",amount:"₱124.00"}]),y=p(""),g=k(()=>x.value.filter(l=>l.invoiceId.includes(y.value))),b=()=>{window.location.reload()},f=()=>{console.log("Exporting CSV...")},h=p(!1),_=()=>{h.value=!h.value},w=async()=>{try{(await u.dispatch("logout")).isSuccess&&m.push({name:"Login"})}catch(l){console.error("Logout error:",l)}};return(l,e)=>(n(),r("div",null,[t("header",M,[e[2]||(e[2]=t("h1",{class:"text-xl font-bold"},"Payment Transaction",-1)),t("div",S,[t("div",T,[t("div",D,[o(a(d),{icon:"uil:setting",width:"24",height:"24",style:{color:"white"},onClick:_}),h.value?(n(),r("div",P,[e[1]||(e[1]=t("button",{class:"w-full text-left px-4 py-2 text-sm text-black"},"Account Info",-1)),t("button",{class:"w-full text-left px-4 py-2 text-sm text-black",onClick:e[0]||(e[0]=s=>w())},"Logout")])):C("",!0)])])])]),t("div",q,[t("div",G,[t("div",null,[t("button",{onClick:b,class:"bg-[#608C54] py-2 px-6 text-white rounded-md flex hover:bg-gray-200"},[o(a(d),{icon:"material-symbols-light:refresh",width:"24",height:"24"}),e[3]||(e[3]=i("Refresh"))])]),t("button",{onClick:f,class:"bg-gray-300 py-2 px-4 rounded-md"},"Export to CSV")]),t("div",N,[o(v,{placeholder:"Search Payment"}),e[4]||(e[4]=t("p",null,"View the payment history in here. It might take some time for payment to show up in the portal.",-1))]),t("table",B,[t("thead",null,[t("tr",E,[t("th",j,[e[5]||(e[5]=i(" Date ")),o(a(d),{icon:"marketeq:up-down-arrow",width:"16",height:"16"})]),t("th",A,[e[6]||(e[6]=i(" Invoice ID ")),o(a(d),{icon:"marketeq:up-down-arrow",width:"16",height:"16"})]),t("th",R,[e[7]||(e[7]=i(" Payment Method ")),o(a(d),{icon:"marketeq:up-down-arrow",width:"16",height:"16"})]),t("th",$,[e[8]||(e[8]=i("Amount ")),o(a(d),{icon:"marketeq:up-down-arrow",width:"16",height:"16"})])])]),t("tbody",null,[(n(!0),r(I,null,L(g.value,s=>(n(),r("tr",{key:s.invoiceId,class:"border-b border-gray-200 hover:bg-gray-200 text-sm"},[t("td",z,c(s.date),1),t("td",H,c(s.invoiceId),1),t("td",J,[s.paymentMethod==="MasterCard"?(n(),r("span",K," MasterCard ****"+c(s.cardLastFour),1)):(n(),r("span",O,"GCash ****"+c(s.gcashLastFour),1))]),t("td",Q,c(s.amount),1)]))),128))])])])]))}};export{Y as default};
