import{L as N,T as S}from"./Toast-S2wpvofn.js";import{A as C,i as B,g as T,f as o,c as n,E as $,l as r,a as i,b as e,u as d,I as p,F as A,h as z,j as E,o as l,t as u}from"./index-B8b6vpke.js";const P={class:"flex h-screen bg-gray-100"},F={class:"flex-1 flex flex-col"},q={class:"px-2 sm:px-4 pt-20 flex flex-col gap-4 overflow-auto"},G={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},H={class:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-[90%] sm:w-96 text-center"},J={class:"flex justify-center"},K={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},O={class:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-[90%] sm:w-[410px] text-center"},Q={class:"flex justify-center"},U={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},W={class:"bg-white p-4 sm:p-6 rounded-lg shadow-lg w-[90%] sm:w-3/4 md:w-2/3 lg:w-1/2 xl:w-1/3 2xl:w-1/4 text-center"},X=["src"],Y={class:"w-full overflow-x-auto"},Z={class:"w-full table-auto text-xs sm:text-sm text-left"},ee={class:"px-2 sm:px-4 py-2"},se={class:"px-2 sm:px-4 py-2"},te={class:"px-2 sm:px-4 py-2"},oe={class:"px-2 sm:px-4 py-2"},le=["src","onClick"],ae={class:"px-2 sm:px-4 py-2"},ce=["src","onClick"],ne={class:"px-2 sm:px-4 py-2 font-bold"},ie={class:"px-2 sm:px-4 py-2 space-x-2 text-end"},re=["onClick"],de=["onClick"],me={__name:"Administrator_List",setup(pe){const a=B();E();const L=C(()=>a.state.showLoading.state),j=C(()=>a.state.Administrator.rider.data);function g(){a.dispatch("Administrator/getRiderList")}T(()=>{g()});const x=o(!1),m=o(null),I=s=>{m.value=s,x.value=!0},_=()=>{x.value=!1};async function M(){m.value!=""&&await a.dispatch("Administrator/deleteRider",m.value).then(s=>{s.isSuccess&&(_(),g())})}const h=o(!1),v=o(null);function R(s){v.value=s,h.value=!0}function b(){h.value=!1}async function D(){if(v.value)try{const s={id:v.value};await a.dispatch("Administrator/approveRider",s),await a.dispatch("Administrator/getRiderList"),b()}catch(s){console.error("Approval failed:",s)}}o(!1);const y=o(!1),w=o(null),k=s=>{w.value=s,y.value=!0},V=()=>{y.value=!1};return(s,c)=>(l(),n(A,null,[L.value?(l(),$(N,{key:0,class:"loading"})):r("",!0),i(S),e("div",P,[e("div",F,[e("main",q,[e("div",null,[x.value?(l(),n("div",G,[e("div",H,[e("div",J,[i(d(p),{icon:"material-symbols:delete-outline",class:"w-12 h-12 sm:w-[50px] sm:h-[50px]",style:{color:"#ff0000"}})]),c[0]||(c[0]=e("p",{class:"text-xs sm:text-sm text-gray-600 mt-4"},"Are you sure you want to delete this item? This action cannot be undone",-1)),e("div",{class:"flex flex-col sm:flex-row gap-2 mt-4 justify-center"},[e("button",{class:"bg-red-500 text-white px-8 sm:px-14 py-2 rounded hover:bg-red-600",onClick:M},"Delete"),e("button",{class:"bg-[#608C54] text-white px-8 sm:px-14 py-2 rounded hover:bg-gray-400",onClick:_},"Cancel")])])])):r("",!0),h.value?(l(),n("div",K,[e("div",O,[e("div",Q,[i(d(p),{icon:"mdi:approve",class:"w-16 h-16",style:{color:"#188b47"}})]),c[1]||(c[1]=e("p",{class:"text-xs sm:text-sm text-gray-600 mt-4"},"Are you sure you want to approve this item? This action cannot be undone",-1)),e("div",{class:"flex flex-col sm:flex-row gap-2 mt-4 justify-center"},[e("button",{class:"bg-[#608C54] text-white px-8 sm:px-14 py-2 rounded hover:bg-red-600",onClick:D},"Approve"),e("button",{class:"bg-red-500 text-white px-8 sm:px-14 py-2 rounded hover:bg-gray-400",onClick:b},"Cancel")])])])):r("",!0),y.value?(l(),n("div",U,[e("div",W,[e("img",{src:w.value,alt:"Selected Image",class:"w-full h-auto max-h-[60vh] object-contain mb-4"},null,8,X),e("button",{class:"bg-red-500 text-white px-4 py-2 rounded-full hover:bg-red-600 text-xs",onClick:V}," Close ")])])):r("",!0)]),e("div",Y,[e("table",Z,[c[2]||(c[2]=e("thead",null,[e("tr",{class:"bg-gray-200"},[e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Rider Name"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Email"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Phone Number"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"License"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Valid ID"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3"},"Status"),e("th",{class:"px-2 sm:px-4 py-2 sm:py-3 text-end"},"Action")])],-1)),e("tbody",null,[(l(!0),n(A,null,z(j.value,t=>(l(),n("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[e("td",ee,u(t.rider_name),1),e("td",se,u(t.email),1),e("td",te,u(t.phone_number),1),e("td",oe,[e("img",{src:t.license,alt:"License",class:"w-14 sm:w-20 h-14 sm:h-20 object-cover rounded cursor-pointer",onClick:f=>k(t.license)},null,8,le)]),e("td",ae,[e("img",{src:t.valid_id,alt:"Valid ID",class:"w-14 sm:w-20 h-14 sm:h-20 object-cover rounded cursor-pointer",onClick:f=>k(t.valid_id)},null,8,ce)]),e("td",ne,u(t.status),1),e("td",ie,[e("button",{class:"text-green-600 hover:text-green-800",onClick:f=>R(t.id)},[i(d(p),{icon:"material-symbols:order-approve",class:"w-5 h-5"})],8,re),e("button",{class:"text-red-500 hover:text-red-700",onClick:f=>I(t.id)},[i(d(p),{icon:"octicon:trash-24",class:"w-5 h-5"})],8,de)])]))),128))])])])])])])],64))}};export{me as default};
