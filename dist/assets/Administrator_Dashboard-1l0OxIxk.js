import{L as R,T as C}from"./Toast-oS8K0J6L.js";import{A as r,i as j,g as h,f as x,c as d,E as B,l as b,a as m,b as s,t as o,u as c,I as y,F as f,h as N,j as T,o as l,k as M}from"./index-BxOnwd-r.js";/* empty css                                                              */const V={class:"flex h-screen bg-gray-100"},D={class:"flex-1 flex flex-col"},E={class:"px-2 2xs:px-3 sm:px-4 md:px-6 lg:px-8 pt-16 2xs:pt-18 sm:pt-20 flex flex-col gap-4 overflow-auto"},F={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-3 2xs:gap-4 md:gap-6 mb-3 2xs:mb-4 md:mb-6"},I={class:"bg-white p-3 2xs:p-4 md:p-6 rounded-lg shadow-md flex items-center justify-between"},z={class:"text-base 2xs:text-lg sm:text-xl md:text-2xl font-bold text-gray-900"},S={class:"bg-white p-3 2xs:p-4 md:p-6 rounded-lg shadow-md flex items-center justify-between"},P={class:"text-base 2xs:text-lg sm:text-xl md:text-2xl font-bold text-gray-900"},$={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50"},q={class:"bg-white p-4 2xs:p-5 sm:p-6 md:p-8 rounded-lg shadow-lg w-[90%] sm:w-[450px] md:w-[500px] lg:w-[550px] text-center"},G={class:"flex justify-center"},H={class:"w-full overflow-x-auto"},J={class:"max-h-[500px] overflow-y-auto"},K={class:"w-full table-auto text-[0.65rem] 2xs:text-xs sm:text-sm md:text-base text-left"},O={class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},Q={class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},U={class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},W={class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},X={class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4 space-x-1 2xs:space-x-2 text-center"},Y=["disabled","onClick"],os={__name:"Administrator_Dashboard",setup(Z){const a=j();T();const _=r(()=>a.state.showLoading.state),v=r(()=>a.state.Administrator.remit.data),u=r(()=>a.state.Administrator.people.data);function w(){a.dispatch("Administrator/getRemitList")}h(()=>{w()});function A(){a.dispatch("Administrator/getAdminList")}h(()=>{A()});const i=x(!1),n=x(null);function k(p){n.value=p,i.value=!0}function g(){i.value=!1}async function L(){if(n.value)try{const p={id:n.value};await a.dispatch("Administrator/approveRiderRemit",p),await a.dispatch("Administrator/getRemitList"),g()}catch(p){console.error("Approval failed:",p)}}return x(!1),x(!1),x(null),(p,e)=>(l(),d(f,null,[_.value?(l(),B(R,{key:0,class:"loading"})):b("",!0),m(C),s("div",V,[s("div",D,[s("main",E,[s("div",null,[s("div",F,[s("div",I,[s("div",null,[e[0]||(e[0]=s("h3",{class:"text-xs 2xs:text-sm sm:text-base md:text-lg font-semibold text-gray-700"},"Total Riders",-1)),s("p",z,o(u.value.total_riders),1)]),m(c(y),{icon:"mdi:motorbike",class:"w-6 2xs:w-7 sm:w-8 md:w-10 h-6 2xs:h-7 sm:h-8 md:h-10 text-blue-600"})]),s("div",S,[s("div",null,[e[1]||(e[1]=s("h3",{class:"text-xs 2xs:text-sm sm:text-base md:text-lg font-semibold text-gray-700"},"Total Farmers",-1)),s("p",P,o(u.value.total_farmers),1)]),m(c(y),{icon:"fluent-emoji-flat:farmer-light",class:"w-6 2xs:w-7 sm:w-8 md:w-10 h-6 2xs:h-7 sm:h-8 md:h-10"})])]),i.value?(l(),d("div",$,[s("div",q,[s("div",G,[m(c(y),{icon:"mdi:approve",class:"w-12 2xs:w-14 sm:w-16 md:w-20 h-12 2xs:h-14 sm:h-16 md:h-20",style:{color:"#188b47"}})]),e[2]||(e[2]=s("p",{class:"text-[0.65rem] 2xs:text-xs sm:text-sm md:text-base text-gray-600 mt-3 2xs:mt-4 md:mt-6"},"Are you sure you want to approve this remit? This action cannot be undone",-1)),s("div",{class:"flex flex-col sm:flex-row gap-2 2xs:gap-3 md:gap-4 mt-3 2xs:mt-4 md:mt-6 justify-center"},[s("button",{class:"bg-[#608C54] text-white px-6 2xs:px-8 sm:px-10 md:px-12 lg:px-14 py-1.5 2xs:py-2 md:py-2.5 rounded hover:bg-red-600",onClick:L},"Approve"),s("button",{class:"bg-red-500 text-white px-6 2xs:px-8 sm:px-10 md:px-12 lg:px-14 py-1.5 2xs:py-2 md:py-2.5 rounded hover:bg-gray-400",onClick:g},"Cancel")])])])):b("",!0)]),s("div",H,[s("div",J,[s("table",K,[e[3]||(e[3]=s("thead",null,[s("tr",{class:"bg-gray-200"},[s("th",{class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},"Rider Name"),s("th",{class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},"Email"),s("th",{class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},"Phone Number"),s("th",{class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4"},"Balance"),s("th",{class:"px-2 2xs:px-3 sm:px-4 md:px-6 py-2 2xs:py-2.5 sm:py-3 md:py-4 text-center"},"Action")])],-1)),s("tbody",null,[(l(!0),d(f,null,N(v.value,t=>(l(),d("tr",{key:t.id,class:"border-b hover:bg-gray-100"},[s("td",O,o(t.first_name)+" "+o(t.last_name),1),s("td",Q,o(t.email),1),s("td",U,o(t.phone_number),1),s("td",W,o(t.balance),1),s("td",X,[s("button",{class:M(["text-white px-3 2xs:px-4 sm:px-5 md:px-6 py-1 2xs:py-1.5 sm:py-2 rounded-lg bg-green-800 hover:text-green-800",{"bg-gray-500 opacity-70 cursor-not-allowed":t.balance===0}]),disabled:t.balance===0,onClick:ss=>k(t.id)}," Remit ",10,Y)])]))),128))])])])])])])])],64))}};export{os as default};
