import{A as u,i as Dt,f as c,g as O,D as Lt,c as l,b as t,l as p,a as T,u as g,I as P,k as S,G as D,H as R,Q as K,d as V,F as w,h as k,t as r,e as Ot,j as Ft,o as a}from"./index-BxOnwd-r.js";/* empty css                                                              */import{l as $}from"./lodash-DPThQObe.js";import{E as Rt}from"./jspdf.es.min-CRbsSK4U.js";import $t from"./html2canvas.esm-CBrSDip1.js";const It={class:"flex min-h-screen bg-gray-100"},Ut={class:"flex-1 flex flex-col"},Nt={class:"bg-[#285a19] shadow p-4 flex justify-between items-center text-white"},Mt={class:"flex items-center space-x-4"},At={class:"relative inline-block text-left"},Tt={class:"flex items-center space-x-2"},Pt=["src"],Vt={key:0,class:"absolute right-0 z-50 mt-2 w-40 sm:w-48 bg-white rounded shadow-lg"},Wt={class:"p-3 xs:p-4 sm:p-5 lg:p-6"},jt={key:0},zt={class:"mb-4 text-xs sm:text-sm flex flex-wrap gap-2"},Ht={key:0},Jt={class:"mb-4 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3"},Bt={class:"flex items-center gap-2"},Et={class:"flex items-center gap-2"},qt={class:"overflow-x-auto"},Qt={class:"table-auto w-full border-collapse border border-gray-300"},Gt={key:0},Yt=["onClick"],Kt={class:"px-2 xs:px-4 py-2"},Xt={class:"px-2 xs:px-4 py-2"},Zt={class:"px-2 xs:px-4 py-2"},te={class:"px-2 xs:px-4 py-2"},ee={class:"px-2 xs:px-4 py-2"},se={key:1},oe={colspan:"5",class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm text-gray-500"},le={key:1},ae={class:"mb-4 flex items-center gap-2"},re={class:"overflow-x-auto"},ne={class:"table-auto w-full border-collapse border border-gray-300"},de={key:0},ie=["onClick"],xe={class:"px-2 xs:px-4 py-2"},ce={class:"px-2 xs:px-4 py-2"},pe={class:"px-2 xs:px-4 py-2"},ue={class:"px-2 xs:px-4 py-2"},me={class:"px-2 xs:px-4 py-2"},ve={key:1},ge={colspan:"5",class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm text-gray-500"},ye={key:2},be={class:"mb-4 flex items-center gap-2"},he={class:"overflow-x-auto"},fe={class:"table-auto w-full border-collapse border border-gray-300"},_e={key:0},we={class:"px-2 xs:px-4 py-2"},ke={class:"px-2 xs:px-4 py-2"},Ce={class:"px-2 xs:px-4 py-2"},Se={class:"px-2 xs:px-4 py-2"},De={class:"px-2 xs:px-4 py-2"},Le={class:"px-2 xs:px-4 py-2 text-end"},Oe=["onClick","disabled"],Fe={key:1},Re={colspan:"6",class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm text-gray-500"},$e={key:3},Ie={class:"mb-4 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3"},Ue={class:"flex items-center gap-2"},Ne={class:"flex items-center gap-2"},Me={class:"flex flex-col items-center"},Ae={class:"max-h-[200px] xs:max-h-[250px] sm:max-h-[300px] md:max-h-[400px] overflow-y-auto w-full"},Te={class:"min-w-full bg-white"},Pe={key:0},Ve={class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},We={class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},je={class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},ze={class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},He={class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},Je={key:1},Be={colspan:"5",class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm text-gray-500"},Ee={class:"flex-1 text-center"},qe={class:"text-base sm:text-lg md:text-xl font-bold"},Qe={class:"text-xs sm:text-sm"},Ge={key:0},Ye={class:"relative flex items-center justify-center mt-4 sm:mt-6"},Ke={class:"flex space-x-6 xs:space-x-8 sm:space-x-10 md:space-x-12 lg:space-x-16 z-10"},Xe={class:"flex space-x-2 xs:space-x-4 sm:space-x-6 md:space-x-10 lg:space-x-14 justify-center items-center text-center mt-2 text-[10px] xs:text-xs sm:text-sm"},Ze={class:"mt-6 sm:mt-8"},ts={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},es={class:"bg-white w-full max-w-[90%] sm:max-w-[700px] p-4 rounded-lg relative packing-slip-modal-content"},ss={class:"mt-6 sm:mt-10 w-full"},os={class:"text-center mb-2"},ls={class:"font-semibold"},as={class:"text-[10px] sm:text-xs"},rs={class:"grid grid-cols-1 sm:grid-cols-2 gap-2 border-y py-2 mb-2"},ns={class:"font-bold"},ds=["innerHTML"],is={class:"font-bold"},xs=["innerHTML"],cs={class:"grid grid-cols-1 sm:grid-cols-4 gap-2 items-start border-b pb-2 mb-2"},ps={class:"col-span-1 flex flex-col items-center"},us={class:"text-[10px] sm:text-xs text-gray-600"},ms={class:"col-span-1 sm:col-span-3"},vs={class:"w-full text-left text-[10px] sm:text-xs"},gs={class:"py-1"},ys={class:"text-[9px] sm:text-xs text-gray-600"},bs={class:"py-1"},hs={class:"py-1"},fs={class:"text-center font-semibold text-xs sm:text-sm mt-4"},_s={class:"flex justify-center mt-4"},ws={key:0,class:"flex justify-center items-center mt-4 md:mt-0"},ks=["src"],Rs={__name:"Shipment",setup(Cs){const i=Dt(),X=Ft(),Z=u(()=>i.state.User.order.data),W=u(()=>i.state.User.cancel.data),j=u(()=>i.state.User.refund.data),tt=u(()=>i.state.User.print.data),et=u(()=>i.state.User.record.data),I=u(()=>i.state.User.order.image),d=c(null),x=c("orders"),st=u(()=>{var o;return((o=i.state.userData.data)==null?void 0:o.user)||{}}),y=c(""),m=c(""),ot=o=>{const[e,s,n]=o.split(" "),C={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}[e];return`${n}-${C}-${s.padStart(2,"0")}`},F=u(()=>{let o=[...et.value];return m.value&&(o=o.filter(e=>e.status===m.value)),y.value&&(o=o.filter(e=>ot(e.created_at)===y.value)),o}),z=$.debounce(()=>{},300),lt=()=>{y.value="",z()},at=()=>{m.value="",z()},rt=()=>{const o=window.open("","_blank");let e=`
        <html>
        <head>
            <title>Print Records</title>
            <style>
                body { font-family: Arial, sans-serif; }
                table { width: 100%; border-collapse: collapse; margin-top: 20px; }
                th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
                th { background-color: #f2f2f2; }
                h1 { text-align: center; }
            </style>
        </head>
        <body>
            <h1>Order Record</h1>
            <table>
                <thead>
                    <tr>
						<th>Name</th>
                        <th>Orders</th>
                        <th>Quantity</th>
						<th>Total Amount</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
    `;F.value.length>0?F.value.forEach(s=>{e+=`
                <tr>
					<td>${s.full_name}</td>
                    <td>${s.product_name}</td>
                    <td>${s.quantity}</td>
					<td>${s.total_amount}</td>
                    <td>${s.created_at}</td>
                </tr>
            `}):e+=`
            <tr>
                <td colspan="5">No orders found for the selected filters</td>
            </tr>
        `,e+=`
                </tbody>
            </table>
        </body>
        </html>
    `,o.document.write(e),o.document.close(),o.focus(),o.print(),o.close()};function nt(){i.dispatch("User/getRecordList")}O(()=>{nt()});const b=c(""),h=c(""),f=c(""),v=c(""),U=o=>{if(!o)return null;const e={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"},[s,n,_]=o.split(" ");if(!s||!n||!_||!e[s])return console.warn(`Invalid date format: ${o}`),null;const C=`${_}-${e[s]}-${n.padStart(2,"0")}`;return console.log(`Input: ${o}, Formatted: ${C}`),C},H=u(()=>{let o=Z.value;return b.value&&(o=o.filter(e=>U(e.created_at)===b.value)),v.value&&(o=o.filter(e=>e.status.toLowerCase()===v.value.toLowerCase())),o}),J=u(()=>{if(!h.value)return W.value;const o=W.value.filter(e=>U(e.created_at)===h.value);return console.log("Filtered Cancellations:",o),o}),B=u(()=>{if(!f.value)return j.value;const o=j.value.filter(e=>U(e.created_at)===f.value);return console.log("Filtered Refunds:",o),o}),E=$.debounce(()=>{},300),q=$.debounce(()=>{},300),Q=$.debounce(()=>{},300),dt=()=>{v.value=""},it=()=>{b.value=""},xt=()=>{h.value=""},ct=()=>{f.value=""};function pt(){i.dispatch("User/getOrderList")}O(()=>{pt()});function ut(){i.dispatch("User/getImage")}O(()=>{ut()});const mt=o=>{d.value=o,i.dispatch("User/getImage",o.id)},N=[{id:"Order placed",label:"Order placed",icon:"hugeicons:package-process"},{id:"Waiting for courier",label:"Waiting for courier",icon:"ic:outline-local-shipping"},{id:"In transit",label:"In transit",icon:"la:shipping-fast"},{id:"Order delivered",label:"Order delivered",icon:"hugeicons:package-receive"}],vt=o=>{if(!d.value)return"bg-gray-300";const e=N.map(_=>_.id.toLowerCase()),s=e.indexOf(d.value.status.toLowerCase()),n=e.indexOf(o.toLowerCase());return n<s?"bg-green-500":n===s?"bg-[#608C54]":"bg-gray-300"},M=Lt({id:"",status:""});async function gt(){if(!d.value)return;const o=["Order placed","Waiting for courier","In transit","Order delivered"],e=o.indexOf(d.value.status);if(e===-1||e===o.length-1)return;if(o[e]==="Waiting for courier"&&!Y){console.warn("Slip not downloaded yet.");return}const s=o[e+1];M.id=d.value.id,M.status=s,await i.dispatch("User/updateStatus",M).then(n=>{n.isSuccess&&(d.value.status=s)}).catch(n=>{console.error("Error updating status:",n)})}function yt(){i.dispatch("User/getCancelList")}O(()=>{yt()});const bt=o=>{d.value=o};c(!1),c(null);const L=c(null);function ht(){i.dispatch("User/getRefundList")}O(()=>{ht()});const ft=async o=>{L.value=o;try{const e={id:o};await i.dispatch("User/approveRefund",e),await i.dispatch("User/getRefundList")}catch(e){console.error("Failed to approve refund:",e)}finally{L.value=null}},G=c(!1),Y=c(!1);function _t(){G.value=!1}const wt=()=>{const o=document.querySelector(".packing-slip-modal-content");if(!o){console.error("Modal content not found");return}$t(o).then(e=>{const s=e.toDataURL("image/png"),n=new Rt,C=210-40,St=e.height*C/e.width;n.addImage(s,"PNG",20,20,C,St),n.save("packing-slip.pdf"),Y.value=!0,_t()})},A=c(!1),kt=()=>{A.value=!A.value},Ct=async()=>{try{(await i.dispatch("logout")).isSuccess&&X.push({name:"Login"})}catch(o){console.error("Logout error:",o)}};return(o,e)=>(a(),l("div",It,[t("div",Ut,[t("header",Nt,[e[16]||(e[16]=t("h1",{class:"text-lg sm:text-xl lg:text-2xl 2xl:ml-0 md:ml-10 xs:ml-6 2xs:ml-8 font-bold"},"Shipment",-1)),t("div",Mt,[t("div",At,[t("div",Tt,[t("img",{src:st.value.avatar,alt:"Profile",class:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover shadow-md"},null,8,Pt),T(g(P),{icon:"uil:setting",width:"20",height:"20",class:"cursor-pointer text-white sm:w-6 sm:h-6",onClick:kt})]),A.value?(a(),l("div",Vt,[e[15]||(e[15]=t("a",{href:"/seller-profile",class:"block px-3 py-2 text-xs sm:text-sm text-black hover:bg-gray-100"},"Account Info",-1)),t("button",{onClick:Ct,class:"block w-full text-left px-3 py-2 text-xs sm:text-sm text-black hover:bg-gray-100"},"Logout")])):p("",!0)])])]),t("div",Wt,[d.value?(a(),l("div",{key:1,class:S(["p-3 xs:p-4 sm:p-5 border-2 rounded-md mt-2 text-center flex flex-col md:flex-row gap-4 md:gap-6 items-center md:items-start",{"border-blue-300":d.value.status==="Order","border-red-300 text-red-600":d.value.status==="Cancelled","border-yellow-300 text-yellow-600":d.value.status==="Refund","border-[#608C54]":d.value.status!=="Order"&&d.value.status!=="Cancelled"&&d.value.status!=="Refund"}])},[t("div",Ee,[t("h1",qe,r(d.value.status)+" Shipment",1),t("p",Qe,r(d.value.status==="Order"?"This shipment is currently being processed.":d.value.status==="Cancelled"?"This shipment has been cancelled. Contact customer support for assistance.":d.value.status==="Refund"?"You should receive the refund in your account shortly.":"Tracking Details"),1),d.value.status!=="Cancelled"&&d.value.status!=="Refund"?(a(),l("div",Ge,[t("div",Ye,[e[31]||(e[31]=t("div",{class:"absolute w-3/4 h-1 bg-[#608C54] top-1/2 z-0"},null,-1)),t("div",Ke,[(a(),l(w,null,k(N,s=>t("div",{key:s.id,class:S(["w-10 h-10 xs:w-12 xs:h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full flex items-center justify-center",vt(s.id)])},[T(g(P),{icon:s.icon,class:"text-white w-5 h-5 xs:w-6 xs:h-6 sm:w-7 sm:h-7 md:w-8 md:h-8"},null,8,["icon"])],2)),64))])]),t("div",Xe,[(a(),l(w,null,k(N,s=>t("span",{key:s.id},r(s.label),1)),64))]),t("div",Ze,[G.value?(a(),l("div",ts,[t("div",es,[t("div",ss,[(a(!0),l(w,null,k(tt.value,s=>(a(),l("div",{key:s.id,class:"bg-white p-3 sm:p-4 border border-gray-400 rounded-lg text-xs sm:text-sm font-sans"},[e[36]||(e[36]=V('<div class="flex flex-col sm:flex-row justify-between items-center border-b pb-2 mb-2 gap-2"><div class="flex items-center gap-2"><div><h1 class="text-base sm:text-lg font-bold text-green-700">Pagsasaka</h1><p class="text-[10px] sm:text-xs text-gray-600">Farmers &amp; Consumer</p></div></div><div class="text-right"><p class="font-semibold text-base sm:text-lg">Logistics Logo</p></div></div>',1)),t("div",os,[t("p",ls,"Product Name: "+r(s.orderId),1),t("p",as,r(s.orderId),1)]),t("div",rs,[t("div",null,[e[32]||(e[32]=t("p",{class:"font-semibold border-b pb-1"},"Buyer",-1)),t("p",ns,r(s.name),1),t("p",{innerHTML:s.address},null,8,ds)]),t("div",null,[e[33]||(e[33]=t("p",{class:"font-semibold border-b pb-1"},"Seller",-1)),t("p",is,r(s.name),1),t("p",{innerHTML:s.address},null,8,xs)])]),t("div",cs,[t("div",ps,[t("p",us,r(s.orderId),1)]),t("div",ms,[t("table",vs,[e[35]||(e[35]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"py-1"},"Product (Qty)"),t("th",{class:"py-1"},"Price"),t("th",{class:"py-1"},"Total")])],-1)),t("tbody",null,[(a(!0),l(w,null,k(o.order.items,(n,_)=>(a(),l("tr",{key:_},[t("td",gs,[t("strong",null,r(n.name),1),e[34]||(e[34]=t("br",null,null,-1)),t("span",ys,"Variants: "+r(n.variant),1)]),t("td",bs,"₱"+r(n.price.toFixed(2)),1),t("td",hs,"₱"+r((n.price*n.quantity).toFixed(2)),1)]))),128))])])])]),t("div",fs," Order ID: "+r(o.order.orderId),1)]))),128))]),t("div",{class:"mt-4 text-center"},[t("button",{onClick:wt,class:"py-1.5 xs:py-2 px-3 xs:px-4 rounded-md bg-green-700 text-white text-xs sm:text-sm"},"Download Packing Slip as PDF")])])])):p("",!0)]),t("div",_s,[t("button",{onClick:e[13]||(e[13]=s=>gt()),class:"px-8 xs:px-10 sm:px-12 py-1.5 xs:py-2 text-xs sm:text-sm font-semibold rounded-lg shadow-md transition text-white bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},"Approve")])])):p("",!0),t("button",{class:"mt-4 px-3 xs:px-4 py-1.5 xs:py-2 bg-gray-300 font-semibold rounded-lg shadow-md text-xs sm:text-sm",onClick:e[14]||(e[14]=s=>d.value=null)},"Back to Shipments")]),I.value&&I.value.delivery_proof?(a(),l("div",ws,[t("img",{src:I.value.delivery_proof,alt:"Shipment Image",class:"border border-gray-500 w-[200px] h-[220px] xs:w-[240px] xs:h-[260px] sm:w-[280px] sm:h-[300px] md:w-[320px] md:h-[360px] lg:w-[350px] lg:h-[400px] rounded-lg shadow-md object-cover"},null,8,ks)])):p("",!0)],2)):(a(),l("div",jt,[t("div",zt,[t("button",{class:S(["px-3 py-1.5 xs:px-4 xs:py-2 rounded transition",{"bg-blue-500 text-white":x.value==="orders","bg-gray-200":x.value!=="orders"}]),onClick:e[0]||(e[0]=s=>x.value="orders")},"My Orders",2),t("button",{class:S(["px-3 py-1.5 xs:px-4 xs:py-2 rounded transition",{"bg-red-500 text-white":x.value==="cancellations","bg-gray-200":x.value!=="cancellations"}]),onClick:e[1]||(e[1]=s=>x.value="cancellations")},"Cancellations",2),t("button",{class:S(["px-3 py-1.5 xs:px-4 xs:py-2 rounded transition",{"bg-yellow-500 text-white":x.value==="refunds","bg-gray-200":x.value!=="refunds"}]),onClick:e[2]||(e[2]=s=>x.value="refunds")},"Return and Refund",2),t("button",{class:S(["px-3 py-1.5 xs:px-4 xs:py-2 rounded transition",{"bg-green-500 text-white":x.value==="record","bg-gray-200":x.value!=="record"}]),onClick:e[3]||(e[3]=s=>x.value="record")},"Records",2)]),x.value==="orders"?(a(),l("div",Ht,[t("div",Jt,[t("div",Bt,[e[17]||(e[17]=t("label",{for:"order-date-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Date:",-1)),D(t("input",{id:"order-date-filter","onUpdate:modelValue":e[4]||(e[4]=s=>b.value=s),type:"date",class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm"},null,512),[[R,b.value]]),b.value?(a(),l("button",{key:0,onClick:it,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear")):p("",!0)]),t("div",Et,[e[19]||(e[19]=t("label",{for:"order-status-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Status:",-1)),D(t("select",{id:"order-status-filter","onUpdate:modelValue":e[5]||(e[5]=s=>v.value=s),class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm",onChange:e[6]||(e[6]=(...s)=>g(E)&&g(E)(...s))},e[18]||(e[18]=[V('<option value="">All</option><option value="Order placed">Order placed</option><option value="Waiting for courier">Waiting for courier</option><option value="In transit">In transit</option><option value="Order delivered">Order delivered</option>',5)]),544),[[K,v.value]]),v.value?(a(),l("button",{key:0,onClick:dt,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear Status")):p("",!0)])]),t("div",qt,[t("table",Qt,[e[20]||(e[20]=t("thead",null,[t("tr",{class:"bg-gray-300"},[t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Name"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Created"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Last Updated"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Ship To"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Status")])],-1)),H.value.length>0?(a(),l("tbody",Gt,[(a(!0),l(w,null,k(H.value,s=>(a(),l("tr",{key:s.id,class:"even:bg-gray-50 hover:bg-gray-200 text-center text-xs sm:text-sm cursor-pointer",onClick:n=>mt(s)},[t("td",Kt,r(s.product_name),1),t("td",Xt,r(s.created_at),1),t("td",Zt,r(s.updated_at),1),t("td",te,r(s.ship_to),1),t("td",ee,r(s.status),1)],8,Yt))),128))])):(a(),l("tbody",se,[t("tr",null,[t("td",oe,r(b.value||v.value?`No orders found for ${b.value||""} ${v.value?v.value:""}`:"No orders available"),1)])]))])])])):p("",!0),x.value==="cancellations"?(a(),l("div",le,[t("div",ae,[e[21]||(e[21]=t("label",{for:"cancel-date-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Date:",-1)),D(t("input",{id:"cancel-date-filter","onUpdate:modelValue":e[7]||(e[7]=s=>h.value=s),type:"date",class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm",onInput:e[8]||(e[8]=(...s)=>g(q)&&g(q)(...s))},null,544),[[R,h.value]]),h.value?(a(),l("button",{key:0,onClick:xt,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear")):p("",!0)]),t("div",re,[t("table",ne,[e[22]||(e[22]=t("thead",null,[t("tr",{class:"bg-gray-300"},[t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Name"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Created"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Last Updated"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Ship To"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Status")])],-1)),J.value.length>0?(a(),l("tbody",de,[(a(!0),l(w,null,k(J.value,s=>(a(),l("tr",{key:s.id,class:"even:bg-gray-50 hover:bg-gray-200 text-center text-xs sm:text-sm cursor-pointer",onClick:n=>bt(s)},[t("td",xe,r(s.product_name),1),t("td",ce,r(s.created_at),1),t("td",pe,r(s.updated_at),1),t("td",ue,r(s.ship_to),1),t("td",me,r(s.status),1)],8,ie))),128))])):(a(),l("tbody",ve,[t("tr",null,[t("td",ge,r(h.value?`No cancellations found for ${h.value}`:"No cancellations available"),1)])]))])])])):p("",!0),x.value==="refunds"?(a(),l("div",ye,[t("div",be,[e[23]||(e[23]=t("label",{for:"refund-date-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Date:",-1)),D(t("input",{id:"refund-date-filter","onUpdate:modelValue":e[9]||(e[9]=s=>f.value=s),type:"date",class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm",onInput:e[10]||(e[10]=(...s)=>g(Q)&&g(Q)(...s))},null,544),[[R,f.value]]),f.value?(a(),l("button",{key:0,onClick:ct,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear")):p("",!0)]),t("div",he,[t("table",fe,[e[24]||(e[24]=t("thead",null,[t("tr",{class:"bg-gray-300"},[t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Name"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Created"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Last Updated"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Ship To"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Status"),t("th",{class:"px-2 xs:px-4 py-2 text-xs sm:text-sm"},"Action")])],-1)),B.value.length>0?(a(),l("tbody",_e,[(a(!0),l(w,null,k(B.value,s=>(a(),l("tr",{key:s.id,class:"even:bg-gray-50 hover:bg-gray-200 text-center text-xs sm:text-sm cursor-pointer"},[t("td",we,r(s.product_name),1),t("td",ke,r(s.created_at),1),t("td",Ce,r(s.updated_at),1),t("td",Se,r(s.ship_to),1),t("td",De,r(s.status),1),t("td",Le,[t("button",{onClick:n=>ft(s.id),disabled:s.status==="Refund"||L.value===s.id,class:S(["font-bold py-1 xs:py-2 px-3 xs:px-4 rounded text-xs sm:text-sm",s.status==="Refund"?"bg-gray-400 cursor-not-allowed":"bg-green-500 hover:bg-green-700 text-white",L.value===s.id&&"opacity-50 cursor-wait"])},r(L.value===s.id?"Approving...":"Approve"),11,Oe)])]))),128))])):(a(),l("tbody",Fe,[t("tr",null,[t("td",Re,r(f.value?`No refunds found for ${f.value}`:"No refunds available"),1)])]))])])])):p("",!0),x.value==="record"?(a(),l("div",$e,[t("div",Ie,[t("div",Ue,[e[25]||(e[25]=t("label",{for:"order-date-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Date:",-1)),D(t("input",{id:"order-date-filter","onUpdate:modelValue":e[11]||(e[11]=s=>y.value=s),type:"date",class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm"},null,512),[[R,y.value]]),y.value?(a(),l("button",{key:0,onClick:lt,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear")):p("",!0)]),t("div",Ne,[e[27]||(e[27]=t("label",{for:"order-status-filter",class:"text-xs sm:text-sm font-semibold"},"Filter by Status:",-1)),D(t("select",{id:"order-status-filter","onUpdate:modelValue":e[12]||(e[12]=s=>m.value=s),class:"p-1.5 xs:p-2 border rounded-md text-xs sm:text-sm"},e[26]||(e[26]=[V('<option value="">All</option><option value="Order placed">Order placed</option><option value="Waiting for courier">Waiting for courier</option><option value="In transit">In transit</option><option value="Order delivered">Order delivered</option>',5)]),512),[[K,m.value]]),m.value?(a(),l("button",{key:0,onClick:at,class:"px-2 py-1 xs:px-3 xs:py-1 bg-gray-300 text-xs sm:text-sm rounded-md hover:bg-gray-400"},"Clear Status")):p("",!0)]),t("button",{onClick:rt,class:"flex items-center gap-2 px-3 py-1 xs:px-4 xs:py-1 bg-green-700 text-white text-xs sm:text-sm rounded-md hover:bg-green-600"},[T(g(P),{icon:"arcticons:print",width:"24",height:"24",style:{color:"#f9fffb"}}),e[28]||(e[28]=Ot("Print"))])]),t("div",Me,[t("div",Ae,[t("table",Te,[e[29]||(e[29]=t("thead",{class:"bg-gray-200 sticky top-0 z-10"},[t("tr",null,[t("th",{class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},"Name"),t("th",{class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},"Orders"),t("th",{class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},"Quantity"),t("th",{class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},"Total Amount"),t("th",{class:"px-2 xs:px-4 py-2 text-center text-xs sm:text-sm"},"Date")])],-1)),F.value.length>0?(a(),l("tbody",Pe,[(a(!0),l(w,null,k(F.value,s=>(a(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",Ve,r(s.full_name),1),t("td",We,r(s.product_name),1),t("td",je,r(s.quantity),1),t("td",ze,r(s.total_amount),1),t("td",He,r(s.created_at),1)]))),128))])):(a(),l("tbody",Je,[t("tr",null,[t("td",Be,r(y.value||m.value?`No orders found for ${y.value||""} ${m.value?m.value:""}`:"No orders available"),1)])]))])])])])):p("",!0),e[30]||(e[30]=t("div",{class:"p-3 xs:p-4 sm:p-5 border-2 border-gray-300 rounded-md mt-2 text-center"},[t("h1",{class:"text-base sm:text-lg font-bold"},"Select a Shipment"),t("p",{class:"text-xs sm:text-sm"},"Please select a shipment from the table to view tracking details.")],-1))]))])])]))}};export{Rs as default};
