import"./lodash-CfawgPiw.js";import{k as _,r as p,f,c as l,b as t,a as S,u as L,p as i,j as v,F as x,g as h,e as y,t as n,h as E,i as q,o,I as T}from"./index-DRWIiWmT.js";const G={class:"flex h-screen bg-gray-100"},H={class:"flex-1 flex flex-col"},J={class:"bg-[#608C54] shadow p-4 flex justify-between items-center text-white"},K={class:"flex items-center space-x-4"},Q={class:"flex space-x-2"},W={class:"relative"},X={key:0,class:"absolute right-0 mt-2 bg-white shadow-lg rounded p-2 w-48"},Z={class:"p-5"},tt={key:0},et={class:"mb-4 text-sm"},st={key:0,class:"table-auto w-full border-collapse border border-gray-300 text-start"},lt=["onClick"],ot={class:"px-4 py-2"},nt={class:"px-4 py-2"},at={class:"px-4 py-2"},dt={class:"px-4 py-2"},rt={class:"px-4 py-2"},it={key:1,class:"table-auto w-full border-collapse border border-gray-300"},ct=["onClick"],ut={class:"px-4 py-2"},pt={class:"px-4 py-2"},xt={class:"px-4 py-2"},ht={class:"px-4 py-2"},yt={class:"px-4 py-2"},vt={key:2,class:"fixed inset-0 flex justify-center items-center bg-gray-600 bg-opacity-50 z-50"},gt={class:"bg-white p-6 rounded-md w-96 text-center text-sm"},bt={class:"mt-4"},mt={key:3,class:"table-auto w-full border-collapse border border-gray-300 text-center"},_t=["onClick"],ft={class:"px-4 py-2"},kt={class:"px-4 py-2"},Ct={class:"px-4 py-2"},wt={class:"px-4 py-2"},St={class:"px-4 py-2"},Lt={key:1,class:"p-5 border-2 border-gray-300 rounded-md mt-2"},Tt={key:2,class:"p-5 border-2 border-blue-300 rounded-md mt-2"},Rt={key:3,class:"p-5 border-2 border-red-300 rounded-md mt-2"},Ut={key:4,class:"p-5 border-2 border-yellow-300 rounded-md mt-2"},$t={key:5,class:"p-5 border-2 border-[#608C54] rounded-md"},Nt={class:"text-sm"},Ot={key:0,class:"mt-4"},jt={key:1,class:"mt-6"},Dt={class:"relative flex items-center justify-center"},It={class:"flex space-x-12 z-10"},Vt={class:"flex space-x-[68px] justify-center text-center mt-2"},At={__name:"Shipment",setup(zt){const c=E(),R=q(),U=_(()=>c.state.User.order.data),$=_(()=>c.state.User.cancel.data),N=_(()=>c.state.User.refund.data),a=p(null),r=p("orders");function O(){c.dispatch("User/getOrderList")}f(()=>{O()});const j=d=>{a.value=d},D=()=>{a.value&&(a.value.status="To Ship")},k=[{id:"processing",label:"Processing",icon:"hugeicons:package-process"},{id:"to_ship",label:"To Ship",icon:"ic:outline-local-shipping"},{id:"shipping",label:"Shipping",icon:"la:shipping-fast"},{id:"to_receive",label:"To Receive",icon:"hugeicons:package-receive"},{id:"completed",label:"Completed",icon:"fluent-mdl2:completed"}],I=d=>{var C,w;const e=["processing","to_ship","shipping","to_receive","completed"],s=e.indexOf((w=(C=a.value)==null?void 0:C.status)==null?void 0:w.toLowerCase()),u=e.indexOf(d);return u<s?"bg-green-500":u===s?"bg-[#608C54]":"bg-gray-300"};function V(){c.dispatch("User/getCancelList")}f(()=>{V()});const z=d=>{a.value=d},g=p(!1),b=p(null);function B(){g.value=!1,b.value=null}function P(d){const e=cancellations.value.findIndex(s=>s.id===d);e!==-1&&cancellations.value.splice(e,1),g.value=!1,b.value=null}function A(){c.dispatch("User/getRefundList")}f(()=>{A()});const Y=d=>{a.value=d},m=p(!1),F=()=>{m.value=!m.value},M=async()=>{try{(await c.dispatch("logout")).isSuccess&&R.push({name:"Login"})}catch(d){console.error("Logout error:",d)}};return(d,e)=>(o(),l("div",G,[t("div",H,[t("header",J,[e[6]||(e[6]=t("h1",{class:"text-xl font-bold"},"Shipment",-1)),t("div",K,[t("div",Q,[t("div",W,[S(L(T),{icon:"uil:setting",width:"24",height:"24",style:{color:"white"},onClick:F}),m.value?(o(),l("div",X,[t("button",{class:"w-full text-left px-4 py-2 text-sm text-black",onClick:e[0]||(e[0]=s=>M())},"Logout")])):i("",!0)])])])]),t("div",Z,[a.value?i("",!0):(o(),l("div",tt,[t("div",et,[t("button",{class:v(["px-4 py-2 rounded",{"bg-blue-500 text-white":r.value==="orders","bg-gray-200":r.value!=="orders"}]),onClick:e[1]||(e[1]=s=>r.value="orders")},"My Orders",2),t("button",{class:v(["ml-2 px-4 py-2 rounded",{"bg-red-500 text-white":r.value==="cancellations","bg-gray-200":r.value!=="cancellations"}]),onClick:e[2]||(e[2]=s=>r.value="cancellations")},"Cancellations",2),t("button",{class:v(["ml-2 px-4 py-2 rounded",{"bg-yellow-500 text-white":r.value==="refunds","bg-gray-200":r.value!=="refunds"}]),onClick:e[3]||(e[3]=s=>r.value="refunds")},"Return and Refund",2)]),r.value==="orders"?(o(),l("table",st,[e[7]||(e[7]=t("thead",null,[t("tr",{class:"bg-gray-300"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status")])],-1)),t("tbody",null,[(o(!0),l(x,null,h(U.value,s=>(o(),l("tr",{key:s.id,class:"even:bg-gray-50 cursor-pointer hover:bg-gray-200 text-center text-sm",onClick:u=>j(s)},[t("td",ot,n(s.product_name),1),t("td",nt,n(s.created_at),1),t("td",at,n(s.updated_at),1),t("td",dt,n(s.ship_to),1),t("td",rt,n(s.status),1)],8,lt))),128))])])):i("",!0),r.value==="cancellations"?(o(),l("table",it,[e[8]||(e[8]=t("thead",null,[t("tr",{class:"bg-gray-300 text-start"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status")])],-1)),t("tbody",null,[(o(!0),l(x,null,h($.value,s=>(o(),l("tr",{key:s.id,class:"even:bg-gray-50 text-center hover:bg-gray-200 text-sm cursor-pointer",onClick:u=>z(s)},[t("td",ut,n(s.product_name),1),t("td",pt,n(s.created_at),1),t("td",xt,n(s.updated_at),1),t("td",ht,n(s.ship_to),1),t("td",yt,n(s.status),1)],8,ct))),128))])])):i("",!0),g.value?(o(),l("div",vt,[t("div",gt,[e[9]||(e[9]=t("h2",{class:"text-xl font-bold"},"Are you sure you want to delete this cancellation?",-1)),t("div",bt,[t("button",{class:"px-4 py-2 bg-red-500 text-white rounded mr-2",onClick:e[4]||(e[4]=s=>P(b.value))},"Yes, Delete"),t("button",{class:"px-4 py-2 bg-gray-300 text-black rounded",onClick:B},"Cancel")])])])):i("",!0),r.value==="refunds"?(o(),l("table",mt,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"bg-gray-300 text-start"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2"},"Action")])],-1)),t("tbody",null,[(o(!0),l(x,null,h(N.value,s=>(o(),l("tr",{key:s.id,class:"even:bg-gray-50 hover:bg-gray-200 text-sm cursor-pointer",onClick:u=>Y(s)},[t("td",ft,n(s.product_name),1),t("td",kt,n(s.created_at),1),t("td",Ct,n(s.updated_at),1),t("td",wt,n(s.ship_to),1),t("td",St,n(s.status),1)],8,_t))),128))])])):i("",!0)])),a.value?a.value.status==="Order"?(o(),l("div",Tt,e[12]||(e[12]=[t("h1",{class:"text-xl font-bold"},"Order Shipment",-1),t("p",{class:"text-sm"},"This shipment is currently being processed.",-1),t("p",{class:"text-sm"},"Please track your shipment for further updates.",-1)]))):a.value.status==="Cancelled"?(o(),l("div",Rt,e[13]||(e[13]=[t("h1",{class:"text-xl font-bold text-red-600"},"Cancelled Shipment",-1),t("p",{class:"text-sm"},"This shipment has been cancelled.",-1),t("p",{class:"text-sm"},"You can contact customer support for further assistance.",-1)]))):a.value.status==="Refund"?(o(),l("div",Ut,e[14]||(e[14]=[t("h1",{class:"text-xl font-bold text-yellow-600"},"Refunded Shipment",-1),t("p",{class:"text-sm"},"This shipment has been refunded.",-1),t("p",{class:"text-sm"},"You should receive the refund in your account shortly.",-1)]))):(o(),l("div",$t,[e[21]||(e[21]=t("h1",{class:"text-xl font-bold"},"Tracking Details",-1)),t("div",Nt,[t("p",null,[e[15]||(e[15]=t("strong",null,"Shipment Name:",-1)),y(" "+n(a.value.product_name),1)]),t("p",null,[e[16]||(e[16]=t("strong",null,"Created:",-1)),y(" "+n(a.value.created_at),1)]),t("p",null,[e[17]||(e[17]=t("strong",null,"Last Updated:",-1)),y(" "+n(a.value.updated_at),1)]),t("p",null,[e[18]||(e[18]=t("strong",null,"Ship To:",-1)),y(" "+n(a.value.ship_to),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"Status:",-1)),y(" "+n(a.value.status),1)])]),a.value.status==="Processing"?(o(),l("div",Ot,[t("button",{class:"px-4 py-2 bg-blue-500 text-sm text-white rounded",onClick:D},"Approve the order")])):i("",!0),a.value.status!=="Cancelled"&&a.value.status!=="Refund"?(o(),l("div",jt,[t("div",Dt,[e[20]||(e[20]=t("div",{class:"absolute w-[480px] h-1 bg-[#608C54] top-1/2 z-0"},null,-1)),t("div",It,[(o(),l(x,null,h(k,s=>t("div",{key:s.id,class:v(["w-24 h-24 rounded-full flex items-center justify-center",I(s.id)])},[S(L(T),{icon:s.icon,width:"32",height:"32",class:"text-white"},null,8,["icon"])],2)),64))])]),t("div",Vt,[(o(),l(x,null,h(k,s=>t("span",{key:s.id},n(s.label),1)),64))])])):i("",!0),t("button",{class:"mt-24 px-4 py-2 bg-gray-300 rounded text-sm",onClick:e[5]||(e[5]=s=>a.value=null)},"Back to Shipments")])):(o(),l("div",Lt,e[11]||(e[11]=[t("h1",{class:"text-xl font-bold"},"Select a Shipment",-1),t("p",{class:"text-sm"},"Please select a shipment from the table to view tracking details.",-1)])))])])]))}};export{At as default};
