import"./lodash-B_cSpb-w.js";import{D as k,f as p,g as C,H as M,c as n,b as t,a as w,u as S,p as c,k as g,F as x,h,e as y,t as l,i as P,j as H,o as a,I as L}from"./index-g0OJmRB0.js";const q={class:"flex h-screen bg-gray-100"},G={class:"flex-1 flex flex-col"},J={class:"bg-[#608C54] shadow p-4 flex justify-between items-center text-white"},K={class:"flex items-center space-x-4"},Q={class:"flex space-x-2"},X={class:"relative"},Z={key:0,class:"absolute right-0 mt-2 bg-white shadow-lg rounded p-2 w-48"},tt={class:"p-5"},et={key:0},st={class:"mb-4 text-sm"},lt={key:0,class:"table-auto w-full border-collapse border border-gray-300 text-start"},ot=["onClick"],nt={class:"px-4 py-2"},at={class:"px-4 py-2"},rt={class:"px-4 py-2"},dt={class:"px-4 py-2"},it={class:"px-4 py-2"},ut={key:1,class:"table-auto w-full border-collapse border border-gray-300"},ct=["onClick"],pt={class:"px-4 py-2"},xt={class:"px-4 py-2"},ht={class:"px-4 py-2"},yt={class:"px-4 py-2"},gt={class:"px-4 py-2"},vt={key:2,class:"fixed inset-0 flex justify-center items-center bg-gray-600 bg-opacity-50 z-50"},bt={class:"bg-white p-6 rounded-md w-96 text-center text-sm"},ft={class:"mt-4"},mt={key:3,class:"table-auto w-full border-collapse border border-gray-300 text-center"},_t=["onClick"],kt={class:"px-4 py-2"},Ct={class:"px-4 py-2"},wt={class:"px-4 py-2"},St={class:"px-4 py-2"},Lt={class:"px-4 py-2"},Ot={key:1,class:"p-5 border-2 border-gray-300 rounded-md mt-2"},It={key:2,class:"p-5 border-2 border-blue-300 rounded-md mt-2"},Ut={key:3,class:"p-5 border-2 border-red-300 rounded-md mt-2"},Tt={key:4,class:"p-5 border-2 border-yellow-300 rounded-md mt-2"},$t={key:5,class:"p-5 border-2 border-[#608C54] rounded-md"},Dt={class:"text-sm"},Nt={class:"relative flex items-center justify-center"},Rt={class:"flex space-x-20 z-10"},jt={class:"flex space-x-[68px] justify-center text-center mt-2"},Vt={class:"flex justify-center mt-4"},Wt={__name:"Shipment",setup(zt){const u=P(),O=H(),I=k(()=>u.state.User.order.data),U=k(()=>u.state.User.cancel.data),T=k(()=>u.state.User.refund.data),o=p(null),d=p("orders");function $(){u.dispatch("User/getOrderList")}C(()=>{$()});const D=r=>{o.value=r},v=[{id:"Order placed",label:"Order placed",icon:"hugeicons:package-process"},{id:"Waiting for courier",label:"Waiting for courier",icon:"ic:outline-local-shipping"},{id:"In transit",label:"In transit",icon:"la:shipping-fast"},{id:"Order delivered",label:"Order delivered",icon:"hugeicons:package-receive"}],N=r=>{if(!o.value)return"bg-gray-300";const e=v.map(F=>F.id.toLowerCase()),s=e.indexOf(o.value.status.toLowerCase()),i=e.indexOf(r.toLowerCase());return i<s?"bg-green-500":i===s?"bg-[#608C54]":"bg-gray-300"},b=M({id:"",status:""});async function R(){if(!o.value)return;const r=["Order placed","Waiting for courier","In transit","Order delivered"],e=r.indexOf(o.value.status);if(e===-1||e===r.length-1)return;const s=r[e+1];b.id=o.value.id,b.status=s,await u.dispatch("User/updateStatus",b).then(i=>{i.isSuccess&&(o.value.status=s)}).catch(i=>{console.error("Error updating status:",i)})}function j(){u.dispatch("User/getCancelList")}C(()=>{j()});const V=r=>{o.value=r},f=p(!1),m=p(null);function z(){f.value=!1,m.value=null}function A(r){const e=cancellations.value.findIndex(s=>s.id===r);e!==-1&&cancellations.value.splice(e,1),f.value=!1,m.value=null}function B(){u.dispatch("User/getRefundList")}C(()=>{B()});const W=r=>{o.value=r},_=p(!1),Y=()=>{_.value=!_.value},E=async()=>{try{(await u.dispatch("logout")).isSuccess&&O.push({name:"Login"})}catch(r){console.error("Logout error:",r)}};return(r,e)=>(a(),n("div",q,[t("div",G,[t("header",J,[e[8]||(e[8]=t("h1",{class:"text-xl font-bold"},"Shipment",-1)),t("div",K,[t("div",Q,[t("div",X,[w(S(L),{icon:"uil:setting",width:"24",height:"24",style:{color:"white"},onClick:Y}),_.value?(a(),n("div",Z,[e[7]||(e[7]=t("button",{class:"w-full text-left px-4 py-2 text-sm text-black"},"Account Info",-1)),t("button",{class:"w-full text-left px-4 py-2 text-sm text-black",onClick:e[0]||(e[0]=s=>E())},"Logout")])):c("",!0)])])])]),t("div",tt,[o.value?c("",!0):(a(),n("div",et,[t("div",st,[t("button",{class:g(["px-4 py-2 rounded",{"bg-blue-500 text-white":d.value==="orders","bg-gray-200":d.value!=="orders"}]),onClick:e[1]||(e[1]=s=>d.value="orders")},"My Orders",2),t("button",{class:g(["ml-2 px-4 py-2 rounded",{"bg-red-500 text-white":d.value==="cancellations","bg-gray-200":d.value!=="cancellations"}]),onClick:e[2]||(e[2]=s=>d.value="cancellations")},"Cancellations",2),t("button",{class:g(["ml-2 px-4 py-2 rounded",{"bg-yellow-500 text-white":d.value==="refunds","bg-gray-200":d.value!=="refunds"}]),onClick:e[3]||(e[3]=s=>d.value="refunds")},"Return and Refund",2)]),d.value==="orders"?(a(),n("table",lt,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"bg-gray-300"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status")])],-1)),t("tbody",null,[(a(!0),n(x,null,h(I.value,s=>(a(),n("tr",{key:s.id,class:"even:bg-gray-50 cursor-pointer hover:bg-gray-200 text-center text-sm",onClick:i=>D(s)},[t("td",nt,l(s.product_name),1),t("td",at,l(s.created_at),1),t("td",rt,l(s.updated_at),1),t("td",dt,l(s.ship_to),1),t("td",it,l(s.status),1)],8,ot))),128))])])):c("",!0),d.value==="cancellations"?(a(),n("table",ut,[e[10]||(e[10]=t("thead",null,[t("tr",{class:"bg-gray-300 text-start"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status")])],-1)),t("tbody",null,[(a(!0),n(x,null,h(U.value,s=>(a(),n("tr",{key:s.id,class:"even:bg-gray-50 text-center hover:bg-gray-200 text-sm cursor-pointer",onClick:i=>V(s)},[t("td",pt,l(s.product_name),1),t("td",xt,l(s.created_at),1),t("td",ht,l(s.updated_at),1),t("td",yt,l(s.ship_to),1),t("td",gt,l(s.status),1)],8,ct))),128))])])):c("",!0),f.value?(a(),n("div",vt,[t("div",bt,[e[11]||(e[11]=t("h2",{class:"text-xl font-bold"},"Are you sure you want to delete this cancellation?",-1)),t("div",ft,[t("button",{class:"px-4 py-2 bg-red-500 text-white rounded mr-2",onClick:e[4]||(e[4]=s=>A(m.value))},"Yes, Delete"),t("button",{class:"px-4 py-2 bg-gray-300 text-black rounded",onClick:z},"Cancel")])])])):c("",!0),d.value==="refunds"?(a(),n("table",mt,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"bg-gray-300 text-start"},[t("th",{class:"px-4 py-2"},"Name"),t("th",{class:"px-4 py-2"},"Created"),t("th",{class:"px-4 py-2"},"Last Updated"),t("th",{class:"px-4 py-2"},"Ship To"),t("th",{class:"px-4 py-2"},"Status"),t("th",{class:"px-4 py-2"},"Action")])],-1)),t("tbody",null,[(a(!0),n(x,null,h(T.value,s=>(a(),n("tr",{key:s.id,class:"even:bg-gray-50 hover:bg-gray-200 text-sm cursor-pointer",onClick:i=>W(s)},[t("td",kt,l(s.product_name),1),t("td",Ct,l(s.created_at),1),t("td",wt,l(s.updated_at),1),t("td",St,l(s.ship_to),1),t("td",Lt,l(s.status),1)],8,_t))),128))])])):c("",!0)])),o.value?o.value.status==="Order"?(a(),n("div",It,e[14]||(e[14]=[t("h1",{class:"text-xl font-bold"},"Order Shipment",-1),t("p",{class:"text-sm"},"This shipment is currently being processed.",-1),t("p",{class:"text-sm"},"Please track your shipment for further updates.",-1)]))):o.value.status==="Cancelled"?(a(),n("div",Ut,e[15]||(e[15]=[t("h1",{class:"text-xl font-bold text-red-600"},"Cancelled Shipment",-1),t("p",{class:"text-sm"},"This shipment has been cancelled.",-1),t("p",{class:"text-sm"},"You can contact customer support for further assistance.",-1)]))):o.value.status==="Refund"?(a(),n("div",Tt,e[16]||(e[16]=[t("h1",{class:"text-xl font-bold text-yellow-600"},"Refunded Shipment",-1),t("p",{class:"text-sm"},"This shipment has been refunded.",-1),t("p",{class:"text-sm"},"You should receive the refund in your account shortly.",-1)]))):(a(),n("div",$t,[e[23]||(e[23]=t("h1",{class:"text-xl font-bold"},"Tracking Details",-1)),t("div",Dt,[t("p",null,[e[17]||(e[17]=t("strong",null,"Shipment Name:",-1)),y(" "+l(o.value.product_name),1)]),t("p",null,[e[18]||(e[18]=t("strong",null,"Created:",-1)),y(" "+l(o.value.created_at),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"Last Updated:",-1)),y(" "+l(o.value.updated_at),1)]),t("p",null,[e[20]||(e[20]=t("strong",null,"Ship To:",-1)),y(" "+l(o.value.ship_to),1)]),t("p",null,[e[21]||(e[21]=t("strong",null,"Status:",-1)),y(" "+l(o.value.status),1)])]),t("div",null,[t("div",Nt,[e[22]||(e[22]=t("div",{class:"absolute w-[480px] h-1 bg-[#608C54] top-1/2 z-0"},null,-1)),t("div",Rt,[(a(),n(x,null,h(v,s=>t("div",{key:s.id,class:g(["w-20 h-20 rounded-full flex items-center justify-center",N(s.id)])},[w(S(L),{icon:s.icon,width:"24",height:"24",class:"text-white"},null,8,["icon"])],2)),64))])]),t("div",jt,[(a(),n(x,null,h(v,s=>t("span",{key:s.id,class:"text-sm"},l(s.label),1)),64))]),t("div",Vt,[t("button",{onClick:e[5]||(e[5]=s=>R()),class:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition"}," Approve ")])]),t("button",{class:"mt-24 px-4 py-2 bg-gray-300 rounded text-sm",onClick:e[6]||(e[6]=s=>o.value=null)},"Back to Shipments")])):(a(),n("div",Ot,e[13]||(e[13]=[t("h1",{class:"text-xl font-bold"},"Select a Shipment",-1),t("p",{class:"text-sm"},"Please select a shipment from the table to view tracking details.",-1)])))])])]))}};export{Wt as default};
