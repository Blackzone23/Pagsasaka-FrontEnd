import{B as c}from"./BaseLabel-CNyvp1JO.js";import{_ as I}from"./BaseCheckBox-DlOg623o.js";import{f as r,A as W,i as Q,c as a,b as t,l as x,a as i,u as k,I as L,F as f,h as y,d as P,w as u,j as Y,o as n,k as $,t as s,e as p}from"./index-_Jf2QutT.js";import{E as G}from"./jspdf.es.min-C88HL6oT.js";import J from"./html2canvas.esm-CBrSDip1.js";const K={class:"bg-[#285a19] shadow p-4 flex justify-between items-center text-white"},X={class:"flex items-center space-x-4"},Z={class:"flex space-x-2"},tt={class:"relative inline-block text-left"},et={class:"flex items-center space-x-2"},st=["src"],lt={key:0,class:"absolute right-0 z-50 mt-2 w-48 bg-white rounded shadow-lg"},ot={class:"mt-4"},at={class:"flex justify-center border-b border-gray-200"},nt=["onClick"],dt={class:"mt-4 p-4"},it={key:0},rt={class:"mt-5"},ct={class:"hidden lg:flex items-center justify-center py-2 space-x-2 border-2 border-gray-300 rounded-md pb-5 text-xs sm:text-sm md:text-base"},ut={class:"flex items-center space-x-2 w-1/6 pl-3"},pt={class:"mt-5 overflow-y-auto max-h-64"},mt={class:"flex items-center w-full sm:w-1/6"},xt={class:"ml-3 text-sm"},bt={class:"text-sm w-full sm:w-1/6"},ft={class:"w-full sm:w-1/6 flex justify-center"},yt=["src"],gt={class:"text-sm w-full sm:w-1/6"},ht={class:"text-xs w-full sm:w-1/6"},vt={class:"text-xs flex flex-col space-y-2 w-full sm:w-1/6"},_t={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},wt={class:"bg-white rounded-lg p-6 w-96 shadow-lg"},Ct={class:"flex justify-end space-x-4"},kt={key:1,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},St={class:"bg-white w-[700px] p-4 rounded-lg relative packing-slip-modal-content"},Dt={class:"mt-10 w-full"},Nt={class:"text-center mb-2"},Bt={class:"font-semibold"},It={class:"text-xs"},Lt={class:"grid grid-cols-2 gap-2 border-y py-2 mb-2"},Pt={class:"font-bold"},Mt=["innerHTML"],jt={class:"font-bold"},Ut=["innerHTML"],At={class:"grid grid-cols-4 gap-2 items-start border-b pb-2 mb-2"},Ot={class:"col-span-1 flex flex-col items-center"},Tt={class:"text-xs text-gray-600"},Ft={class:"col-span-3"},Vt={class:"w-full text-left text-sm"},qt={class:"py-1"},zt={class:"text-xs text-gray-600"},Ht={class:"py-1"},Rt={class:"py-1"},Et={class:"text-center font-semibold text-sm mt-4"},Wt={key:2,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Qt={class:"bg-white rounded-lg p-6 w-96 shadow-lg"},Yt={class:"flex justify-end space-x-4"},$t={key:1},Gt={class:"overflow-x-auto mt-5"},Jt={class:"min-w-full table-auto border-collapse"},Kt={class:"px-4 py-2 text-sm"},Xt={class:"px-4 py-2 text-sm"},Zt={class:"px-4 py-2 text-sm"},te={class:"px-4 py-2 text-sm"},de={__name:"Order",setup(ee){const S=Q(),M=Y(),D=["Unshipped","Cancelled"],g=r(D[0]),j=W(()=>{var o;return((o=S.state.userData.data)==null?void 0:o.user)||{}}),v=r(!1);function U(){v.value=!v.value}const N=r([{daysAgo:2,orderDate:"10/28/2024",time:"11:04 am UTC",orderId:"123-123-123123",buyerName:"Norman Cruz",address:"Los Angeles blk 14 lot 3 Longos, Malolos City, Bulacan, North Luzon, 3000",phone:"09123123123",itemSubtotal:"800.00",shipByDate:"Nov 3 2024 to Nov 5 2024",deliverByDate:"Nov 12 2024 to Nov 15 2024",carrier:"Standard (Light Parcel) LBC"}]);r({orderId:"",shipByDate:"",deliverByDate:"",orderDate:"",time:"",carrier:"",buyerName:"",address:"",phone:"",itemSubtotal:0});const B=[{id:1,name:"Shipment A",created:"2024-12-01",lastUpdate:"2024-12-02",unitStatus:"Cancelled"},{id:2,name:"Shipment B",created:"2024-12-03",lastUpdate:"2024-12-04",unitStatus:"Cancelled"},{id:3,name:"Shipment C",created:"2024-12-05",lastUpdate:"2024-12-06",unitStatus:"Cancelled"},{id:4,name:"Shipment D",created:"2024-12-07",lastUpdate:"2024-12-08",unitStatus:"Cancelled"},{id:5,name:"Shipment E",created:"2024-12-09",lastUpdate:"2024-12-10",unitStatus:"Cancelled"}],A=B.filter(o=>o.unitStatus==="Cancelled").length,_=r(!1),O=()=>{_.value=!0};function T(){_.value=!1}const w=r(!1),F=()=>{w.value=!0};function V(){w.value=!1}const q=async()=>{try{(await S.dispatch("logout")).isSuccess&&M.push({name:"Login"})}catch(o){console.error("Logout error:",o)}},C=r(!1),z=()=>{C.value=!0};function H(){C.value=!1}r(!1),r({orderId:"123456789",buyer:{name:"Juan Dela Cruz",address:"123 Farm Rd, Barangay, City"},seller:{name:"Maria Santos",address:"456 Market St, Barangay, City"},items:[{name:"Rice",variant:"5kg",price:250,quantity:2},{name:"Cocomelon",variant:"1kg",price:100,quantity:3}]});const R=()=>{const o=document.querySelector(".packing-slip-modal-content");if(!o){console.error("Modal content not found");return}J(o).then(e=>{const l=e.toDataURL("image/png"),b=new G,h=210-40,m=e.height*h/e.width;b.addImage(l,"PNG",20,20,h,m),b.save("packing-slip.pdf")})};return(o,e)=>(n(),a("div",null,[t("header",K,[e[3]||(e[3]=t("h1",{class:"text-lg sm:text-xl 2xl:ml-0 md:ml-10 2xs:ml-10 font-bold"},"Order Transaction",-1)),t("div",X,[t("div",Z,[t("div",tt,[t("div",et,[t("img",{src:j.value.avatar,alt:"Profile",class:"w-10 h-10 rounded-full object-cover shadow-md"},null,8,st),i(k(L),{icon:"uil:setting",width:"24",height:"24",class:"cursor-pointer text-white",onClick:U})]),v.value?(n(),a("div",lt,[e[2]||(e[2]=t("a",{href:"/seller-profile",class:"block px-4 py-2 text-sm text-black hover:bg-gray-100"}," Account Info ",-1)),t("button",{onClick:q,class:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100"}," Logout ")])):x("",!0)])])])]),t("div",ot,[t("div",at,[(n(),a(f,null,y(D,l=>t("button",{key:l,class:$(["px-4 py-2 focus:outline-none",g.value===l?"border-b-2 border-[#608C54] text-[#608C54]":"text-gray-600"]),onClick:b=>g.value=l},s(l),11,nt)),64))]),t("div",dt,[g.value==="Unshipped"?(n(),a("div",it,[i(c,{class:"text-xl font-bold"},{default:u(()=>e[4]||(e[4]=[p("Order:")])),_:1}),e[22]||(e[22]=P('<div class="flex flex-col md:flex-row items-center md:justify-between space-y-2 md:space-y-0 border-2 border-gray-300 rounded-md p-4 text-sm"><h1 class="text-center md:text-left">Action on Selected</h1><div class="flex flex-wrap justify-center md:justify-end space-x-2 2xs:gap-2"><button class="border-2 border-gray-300 py-2 px-4 hover:bg-gray-200 rounded-full"> Print Packing Slip(s) </button><button class="border-2 border-gray-300 py-2 px-4 hover:bg-gray-200 rounded-full"> Confirm Shipment(s) </button></div></div>',1)),t("div",rt,[t("div",ct,[t("div",ut,[i(I,{class:"mt-2"}),i(c,{class:"text-black"},{default:u(()=>e[5]||(e[5]=[p("Order Date")])),_:1})]),i(c,{class:"text-black w-1/6"},{default:u(()=>e[6]||(e[6]=[p("Order Details")])),_:1}),i(c,{class:"text-black w-1/6"},{default:u(()=>e[7]||(e[7]=[p("Image")])),_:1}),i(c,{class:"text-black w-1/6"},{default:u(()=>e[8]||(e[8]=[p("Product Name")])),_:1}),i(c,{class:"text-black w-1/6"},{default:u(()=>e[9]||(e[9]=[p("Customer Option")])),_:1}),i(c,{class:"text-black w-1/6"},{default:u(()=>e[10]||(e[10]=[p("Action")])),_:1})]),t("div",pt,[(n(!0),a(f,null,y(N.value,(l,b)=>(n(),a("div",{key:b,class:"border-2 border-gray-300 mt-5 p-4 flex flex-col sm:flex-row items-center sm:space-x-5 space-y-4 sm:space-y-0"},[t("div",mt,[i(I),t("div",xt,[t("p",null,s(l.daysAgo)+" Days ago",1),t("p",null,s(l.orderDate),1),t("p",null,s(l.time),1)])]),t("div",bt,[e[11]||(e[11]=t("h1",{class:"font-bold"},"Order ID:",-1)),t("p",null,s(l.orderId),1),e[12]||(e[12]=t("h1",{class:"font-bold"},"Buyer Name:",-1)),t("p",null,s(l.buyerName),1)]),t("div",ft,[t("img",{src:l.image,alt:"Order Image",class:"w-[80px] h-[50px] sm:w-[100px] sm:h-[50px]"},null,8,yt)]),t("div",gt,[t("p",null,s(l.productName),1),t("p",null,"Quantity: "+s(l.quantity),1),t("p",null,"Item Subtotal: â‚±"+s(l.itemSubtotal),1)]),t("div",ht,[t("p",null,"Ship by: "+s(l.shipByDate),1),t("p",null,"Deliver by: "+s(l.deliverByDate),1),t("p",null,"Carrier: "+s(l.carrier),1)]),t("div",vt,[t("button",{onClick:O,class:"bg-[#608C54] py-2 px-4 text-white rounded-md w-full"}," Confirm Shipment "),_.value?(n(),a("div",_t,[t("div",wt,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold mb-4"},"Confirm Shipment",-1)),e[14]||(e[14]=t("p",{class:"text-gray-700 mb-6"},"Are you sure you want to confirm this shipment?",-1)),t("div",Ct,[t("button",{onClick:e[0]||(e[0]=(...d)=>o.confirmShipment&&o.confirmShipment(...d)),class:"bg-[#608C54] text-white px-4 py-2 rounded-md"},"Yes"),t("button",{onClick:T,class:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md"},"Cancel")])])])):x("",!0),t("button",{onClick:z,class:"py-2 px-4 rounded-md border-2 border-gray-300 w-full"}," Print Packing Slip "),C.value?(n(),a("div",kt,[t("div",St,[t("button",{onClick:H,class:"absolute top-2 right-2 text-gray-600"},[i(k(L),{icon:"fontisto:close",width:"1.2rem",height:"1.2rem",style:{color:"#5D5F5D"}})]),t("div",Dt,[(n(!0),a(f,null,y(N.value,(d,h)=>(n(),a("div",{key:h,class:"bg-white p-4 border border-gray-400 rounded-lg text-sm font-sans"},[e[19]||(e[19]=P('<div class="flex justify-between items-center border-b pb-2 mb-2"><div class="flex items-center gap-2"><div><h1 class="text-lg font-bold text-green-700">Pagsasaka</h1><p class="text-xs text-gray-600">Farmers &amp; Consumer</p></div></div><div class="text-right"><p class="font-semibold text-lg">Logistics Logo</p></div></div>',1)),t("div",Nt,[t("p",Bt,"Order ID: "+s(d.orderId),1),t("p",It,s(d.orderId),1)]),t("div",Lt,[t("div",null,[e[15]||(e[15]=t("p",{class:"font-semibold border-b pb-1"},"Buyer",-1)),t("p",Pt,s(d.name),1),t("p",{innerHTML:d.address},null,8,Mt)]),t("div",null,[e[16]||(e[16]=t("p",{class:"font-semibold border-b pb-1"},"Seller",-1)),t("p",jt,s(d.name),1),t("p",{innerHTML:d.address},null,8,Ut)])]),t("div",At,[t("div",Ot,[t("p",Tt,s(d.orderId),1)]),t("div",Ft,[t("table",Vt,[e[18]||(e[18]=t("thead",null,[t("tr",{class:"border-b"},[t("th",{class:"py-1"},"Product (Qty)"),t("th",{class:"py-1"},"Price"),t("th",{class:"py-1"},"Total")])],-1)),t("tbody",null,[(n(!0),a(f,null,y(d.items,(m,E)=>(n(),a("tr",{key:E},[t("td",qt,[t("strong",null,s(m.name),1),e[17]||(e[17]=t("br",null,null,-1)),t("span",zt,"Variants: "+s(m.variant),1)]),t("td",Ht,"â‚±"+s(m.price.toFixed(2)),1),t("td",Rt,"â‚±"+s((m.price*m.quantity).toFixed(2)),1)]))),128))])])])]),t("div",Et," Order ID: "+s(d.orderId),1)]))),128))]),t("div",{class:"mt-4 text-center"},[t("button",{onClick:R,class:"py-2 px-4 rounded-md bg-green-700 text-white"}," Download Packing Slip as PDF ")])])])):x("",!0),t("button",{onClick:F,class:"bg-red-500 py-2 px-4 rounded-md w-full"}," Cancel Order "),w.value?(n(),a("div",Wt,[t("div",Qt,[e[20]||(e[20]=t("h2",{class:"text-lg font-semibold mb-4"},"Cancel Shipment",-1)),e[21]||(e[21]=t("p",{class:"text-gray-700 mb-6"},"Are you sure you want to cancel this shipment?",-1)),t("div",Yt,[t("button",{onClick:e[1]||(e[1]=(...d)=>o.cancelShipment&&o.cancelShipment(...d)),class:"bg-red-900 text-white px-4 py-2 rounded-md"},"Yes"),t("button",{onClick:V,class:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md"},"Cancel")])])])):x("",!0)])]))),128))])])])):x("",!0),g.value==="Cancelled"?(n(),a("div",$t,[i(c,{class:"text-lg font-bold"},{default:u(()=>[p(s(k(A))+" Cancelled",1)]),_:1}),e[24]||(e[24]=t("p",null,"The lists here are set to be automatically deleted after 30 days.",-1)),t("div",Gt,[t("table",Jt,[e[23]||(e[23]=t("thead",{class:"bg-gray-200"},[t("tr",null,[t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-700"},"Shipment Name"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-700"},"Created"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-700"},"Last Update"),t("th",{class:"px-4 py-2 text-left text-sm font-semibold text-gray-700"},"Unit Status")])],-1)),t("tbody",null,[(n(),a(f,null,y(B,l=>t("tr",{key:l.id,class:"border-t hover:bg-gray-100"},[t("td",Kt,s(l.name),1),t("td",Xt,s(l.created),1),t("td",Zt,s(l.lastUpdate),1),t("td",te,s(l.unitStatus),1)])),64))])])])])):x("",!0)])])]))}};export{de as default};
