import{L as S,T as I}from"./Toast-EOGP68CH.js";import{_ as M}from"./Market_NavBar-BoxhMLLr.js";import{A as l,i as T,J as j,g as B,p as V,c as i,E as $,l as _,a as h,b as e,t as a,F as q,h as E,j as F,r as z,o as r}from"./index-M30UG9EM.js";const A={class:"bg-gray-100 min-h-screen p-4"},D={class:"container mx-auto"},J={class:"text-xl font-semibold mb-4"},Q={key:0,class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-5 gap-4"},G=["onMouseenter"],H=["src"],K={class:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity"},O=["onClick"],U={class:"p-2"},W={class:"text-sm font-semibold"},X={class:"text-xs font-semibold"},Y={class:"text-red-500 font-bold text-sm"},Z={class:"text-gray-600 text-xs mt-1"},ee={key:0,class:"text-gray-600 text-xs mt-2"},te={key:1,class:"text-center text-gray-600"},se={key:2,class:"mt-10 flex justify-center text-sm"},oe=["disabled"],ae={class:"py-2 px-4 bg-gray-100 flex text-sm items-center border-l border-r border-gray-300"},ne=["disabled"],de={__name:"SearchResults",setup(re){const s=T(),b=j(),p=F(),P=l(()=>s.state.showLoading.state),g=l(()=>s.state.Consumer.moreProduct.data),n=l(()=>s.state.currentPage),m=l(()=>s.state.totalPages),v=l(()=>s.state.Consumer.productRatings),d=l(()=>b.query.q||"");async function u(){await s.dispatch("Consumer/getMoreList",{currentPage:n.value,search:d.value})}B(()=>{d.value&&u()}),V(d,o=>{o&&(s.commit("setCurrentPage",1),u())});async function k(o){var c;(c=v.value)!=null&&c[o]||await s.dispatch("Consumer/getProductRatings",o)}function f(o){var c;return((c=v.value)==null?void 0:c[o])||null}async function w(o){sessionStorage.setItem("ItemInfo",o),p.push({name:"Market_Page1"})}function C(){n.value>1&&(s.commit("setCurrentPage",n.value-1),u())}function R(){n.value<m.value&&(s.commit("setCurrentPage",n.value+1),u())}return(o,c)=>{const L=z("n-rate");return r(),i("div",null,[P.value?(r(),$(S,{key:0,class:"loading"})):_("",!0),h(I),h(M),e("div",A,[e("div",D,[e("h2",J,' Search Results for "'+a(d.value)+'" ',1),g.value.length?(r(),i("div",Q,[(r(!0),i(q,null,E(g.value,t=>{var y,x;return r(),i("div",{key:t.id,class:"relative border rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow group",onMouseenter:N=>k(t.id)},[e("img",{src:t.product_img[0],alt:"Product Image",class:"w-full h-40 object-cover"},null,8,H),e("div",K,[e("button",{onClick:N=>w(t.id),class:"px-4 py-2 text-sm text-white bg-green-500 rounded-lg"}," View Product ",8,O)]),e("div",U,[e("h3",W,a(t.product_name),1),e("p",X,a(t.description),1),e("div",Y,"‚Ç±"+a(t.price),1),h(L,{"allow-half":"",readonly:"",value:((y=f(t.id))==null?void 0:y.average_rating)||0,size:"small"},null,8,["value"]),e("div",Z,a(((x=f(t.id))==null?void 0:x.total_ratings)||0)+" reviews ",1),t.location?(r(),i("div",ee," üìç "+a(t.location),1)):_("",!0)])],40,G)}),128))])):(r(),i("div",te,' No products found for "'+a(d.value)+'". ',1)),g.value.length?(r(),i("div",se,[e("button",{type:"button",class:"py-2 px-4 bg-gray-100 rounded-tl-lg rounded-bl-lg hover:bg-gray-200 text-gray-600",onClick:C,disabled:n.value===1}," Previous ",8,oe),e("span",ae,a(n.value)+" of "+a(m.value),1),e("button",{type:"button",class:"py-2 px-4 bg-gray-100 rounded-tr-lg rounded-br-lg hover:bg-gray-200 text-gray-600",onClick:R,disabled:n.value===m.value}," Next ",8,ne)])):_("",!0)])])])}}};export{de as default};
