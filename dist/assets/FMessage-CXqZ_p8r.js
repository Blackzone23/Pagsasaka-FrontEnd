import{f as u,g as C,c as n,b as e,a as j,u as H,J as f,k as i,F as g,h as p,t as c,E as M,H as S,I as L,o as r,K as V}from"./index-CdF1xhyq.js";const z={class:"bg-[#608C54] shadow p-4 flex justify-between items-center text-white"},B={class:"flex items-center space-x-4"},D={class:"relative"},I={key:0,class:"absolute right-0 mt-2 bg-white shadow-lg rounded p-2 w-48"},N={class:"h-[90vh] flex flex-col md:flex-row"},A=["onClick"],E=["src"],F={class:"flex-1"},K={class:"font-medium block"},T={class:"text-sm text-gray-500"},W={key:0,class:"flex flex-col h-full"},$={class:"p-4 bg-gray-100 border-b flex justify-between items-center"},J={class:"text-lg font-semibold"},P={class:"flex-1 bg-gray-50 p-4 overflow-auto space-y-4 2xl:text-sm 2xs:text-sm"},U={key:0,class:"w-8 h-8 rounded-full bg-gray-300"},Y={class:"text-xs"},q={key:1,class:"w-8 h-8 rounded-full bg-gray-300"},G={class:"p-4 border-t flex items-center bg-gray-50"},O={key:1,class:"flex items-center justify-center flex-1 text-gray-500"},Z={__name:"FMessage",setup(Q){const b=u([{id:1,name:"Alice",avatar:"https://via.placeholder.com/40",messages:[{id:1,text:"Hey there!",sent:!1},{id:2,text:"How are you?",sent:!1},{id:3,text:"I am good, thanks!",sent:!0}]},{id:2,name:"Bob",avatar:"https://via.placeholder.com/40",messages:[{id:1,text:"Hello!",sent:!1},{id:2,text:"How was your day?",sent:!0}]}]),t=u(null),d=u(""),o=u(""),w=l=>{t.value=l},y=()=>{t.value=null},m=()=>{d.value.trim()&&t.value&&(t.value.messages.push({id:Date.now(),text:d.value,sent:!0}),d.value="")},h=()=>{const l=window.innerWidth;l<400?o.value="2xs":l<640?o.value="xs":l<768?o.value="sm":l<1024?o.value="md":l<1280?o.value="lg":l<1536?o.value="xl":o.value="2xl"};C(()=>{h(),window.addEventListener("resize",h)});const v=u(!1),_=()=>{v.value=!v.value},k=async()=>{try{(await store.dispatch("logout")).isSuccess&&router.push({name:"Login"})}catch(l){console.error("Logout error:",l)}};return(l,a)=>(r(),n(g,null,[e("header",z,[a[3]||(a[3]=e("h1",{class:"text-lg sm:text-xl 2xl:ml-0 md:ml-10 2xs:ml-10 font-bold"},"Message History",-1)),e("div",B,[e("div",D,[j(H(V),{icon:"uil:setting",class:"w-6 h-6 cursor-pointer",onClick:_}),v.value?(r(),n("div",I,[a[2]||(a[2]=e("a",{href:"/seller-profile",class:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100"}," Account Info ",-1)),e("button",{class:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",onClick:a[0]||(a[0]=s=>k())}," Logout")])):f("",!0)])])]),e("div",N,[e("div",{class:i(["p-4 border-r shadow-lg overflow-y-auto transition-all duration-300",{"w-full md:w-1/3 bg-gray-100":!t.value||o.value!=="2xs","hidden md:block md:w-1/3 bg-gray-100":t.value&&o.value==="2xs"}])},[a[4]||(a[4]=e("div",{class:"flex justify-between"},[e("h2",{class:"text-lg text-[#1c520d] font-semibold mb-4"},"Chats")],-1)),e("ul",null,[(r(!0),n(g,null,p(b.value,s=>{var x;return r(),n("li",{key:s.id,onClick:R=>w(s),class:i(["p-2 cursor-pointer hover:bg-gray-200 rounded-md flex items-center",{"bg-blue-200":((x=t.value)==null?void 0:x.id)===s.id}])},[e("img",{src:s.avatar,alt:"Avatar",class:"w-10 h-10 rounded-full mr-3"},null,8,E),e("div",F,[e("span",K,c(s.name),1),e("span",T,c(s.messages.length?s.messages[s.messages.length-1].text:"No messages"),1)])],10,A)}),128))])],2),e("div",{class:i(["flex flex-col border-l shadow-lg h-full transition-all duration-300",{"w-full md:w-2/3 flex":t.value||o.value!=="2xs",hidden:!t.value&&o.value==="2xs"}])},[t.value?(r(),n("div",W,[e("div",$,[e("h2",J,c(t.value.name),1),e("button",{onClick:y,class:"text-gray-500"},"Close")]),e("div",P,[(r(!0),n(g,null,p(t.value.messages,(s,x)=>(r(),n("div",{key:x,class:i(["flex items-start space-x-3",{"justify-end":s.sent,"justify-start":!s.sent}])},[s.sent?f("",!0):(r(),n("div",U)),e("div",{class:i(["p-3 rounded-lg shadow-md w-auto max-w-xs",{"bg-green-500 text-white":s.sent,"bg-gray-200 text-black":!s.sent}])},[e("p",{class:i(["text-sm font-bold",{"text-white":s.sent,"text-green-600":!s.sent}])},c(s.sent?"You":t.value.name),3),e("p",Y,c(s.text),1)],2),s.sent?(r(),n("div",q)):f("",!0)],2))),128))]),e("div",G,[M(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>d.value=s),onKeyup:L(m,["enter"]),type:"text",class:"flex-1 p-2 border rounded-md",placeholder:"Type a message..."},null,544),[[S,d.value]]),e("button",{onClick:m,class:"ml-2 bg-green-500 text-white px-4 py-2 rounded-lg"},"Send")])])):(r(),n("div",O,"Welcome to Pagsasaka Chat"))],2)])],64))}};export{Z as default};
