import{_ as Mt,A as k,i as jt,f,g as V,D as I,c as r,E as U,l as x,a as d,b as e,w as m,u as p,I as _,F as y,h as w,t as l,G as E,H,r as Rt,e as n,Q as St,d as Ve,j as Ot,o as a,k as O}from"./index-DqOZUVaT.js";import{_ as $t,B as At}from"./Market_NavBar-Cpmvg5wL.js";import{B as b}from"./BaseLabel-nmiAm_eg.js";import{_ as $}from"./BaseInputField-B0YG0brB.js";import{_ as me}from"./BaseRadioButton-Djij2sQ3.js";import{c as Dt,r as J,u as Me,B as z,m as je}from"./BaseError-CfLo8eL_.js";import{_ as Re,B as Tt,a as K}from"./BaseSelectField-DJKr4MOz.js";import{_ as It}from"./Footer-BvD6_Q5O.js";import{L as Ut,T as Lt}from"./Toast-r91SEUx0.js";import{l as qt}from"./lodash-Ba6rcQbE.js";import{l as Se}from"./Logo2-PGDhhV9I.js";/* empty css                                                              */const Ft={class:"p-10 w-full h-full"},Nt={class:"flex items-center space-x-10"},Bt={class:"cursor-pointer relative"},Et=["src"],zt={class:"absolute bottom-0 right-0 bg-white p-1 rounded-full shadow"},Qt={class:"w-full mt-8"},Wt={class:"overflow-x-auto whitespace-nowrap border-b border-gray-300"},Yt={class:"flex gap-4 sm:gap-6 md:gap-8 w-max"},Gt=["onClick"],Ht={class:"mt-4"},Jt={key:0,class:"tab-content"},Kt={class:"p-4"},Xt={key:0,class:"fixed bottom-4 right-4 2xl:w-[900px] 2xs:w-[470px] 2xl:h-[85vh] 2xs:h-[65vh] bg-white rounded-lg shadow-lg flex flex-col border z-50"},Zt={class:"p-4 border-b rounded-sm bg-gray-100 flex justify-between items-center"},es={class:"flex flex-1 overflow-hidden"},ts={class:"w-1/3 bg-white border-r border-gray-300 p-4 flex flex-col"},ss={class:"flex"},os={class:"mt-3 flex-1 overflow-auto"},ls=["onClick"],as=["src"],rs={class:"flex-1"},ds={class:"font-semibold"},ns={class:"text-xs text-gray-500 truncate"},is={key:0,class:"text-xs bg-red-500 text-white px-2 py-1 rounded-full"},us=["onClick"],ms={key:1,class:"fixed inset-0 bg-gray-500 bg-opacity-75 flex justify-center items-center z-50"},cs={class:"bg-white p-6 rounded shadow-lg w-96"},xs={class:"flex justify-around mt-4"},ps={class:"w-full flex flex-col"},fs={key:0,class:"flex-1 flex items-center justify-center text-gray-400"},gs={key:1,class:"flex flex-col h-full"},vs={class:"p-4 border-b flex justify-between items-center bg-gray-100"},bs={class:"text-lg font-semibold"},hs={class:"flex-1 bg-gray-50 p-4 overflow-auto space-y-4 2xl:text-sm 2xs:text-sm max-h-[400px]"},ys=["src"],_s={class:"text-xs"},ws=["src"],ks={class:"p-4 border-t bg-gray-50 flex items-center"},Cs={class:"p-6"},Ps={class:"overflow-x-auto whitespace-nowrap border-b border-gray-300 bg-[#285a19] rounded-md p-2"},Vs={class:"flex space-x-4 w-max"},Ms=["onClick"],js={class:"mt-6"},Rs={key:0},Ss={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Os={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},$s=["src"],As={class:"ml-3 sm:ml-4 flex-grow"},Ds={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Ts={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Is={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Us={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Ls={class:"font-semibold"},qs={class:"flex items-center gap-2 sm:gap-3"},Fs={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Ns={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Bs={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Es={class:"bg-white p-5 md:p-7 rounded-lg shadow-lg w-full max-w-[90%] md:max-w-[500px]"},zs={class:"text-end"},Qs={class:"mt-4 p-4 bg-[#608C54] rounded-md flex flex-col items-center text-center"},Ws={class:"text-sm mt-3"},Ys={key:1},Gs={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Hs={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Js=["src"],Ks={class:"ml-3 sm:ml-4 flex-grow"},Xs={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Zs={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},eo={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},to={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},so={class:"font-semibold"},oo={class:"flex items-center gap-2 sm:gap-3"},lo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},ao={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},ro={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},no={class:"bg-white p-5 md:p-7 rounded-lg shadow-lg w-full max-w-[90%] md:max-w-[500px]"},io={class:"text-end"},uo={class:"mt-4 p-4 bg-[#608C54] rounded-md flex flex-col items-center text-center"},mo={class:"text-sm mt-3"},co={class:"mt-4 flex justify-end space-x-2"},xo={key:2},po={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},fo={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},go=["src"],vo={class:"ml-3 sm:ml-4 flex-grow"},bo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},ho={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},yo={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},_o={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},wo={class:"font-semibold"},ko={class:"flex items-center gap-2 sm:gap-3"},Co={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Po={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Vo={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},Mo={class:"bg-white p-7 rounded-lg shadow-lg w-full max-w-4xl flex flex-col md:flex-row relative"},jo={class:"flex-1 p-6"},Ro={class:"p-6 bg-white shadow-lg rounded-lg text-sm h-80 overflow-y-auto"},So={class:"flex items-center justify-center mb-6 overflow-x-auto"},Oo={class:"flex w-full items-center space-x-4"},$o={class:"flex flex-col items-center"},Ao={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Do={class:"border-l-2 border-gray-300 pl-2"},To={class:"text-gray-700"},Io={class:"text-xs text-gray-500"},Uo={class:"w-full md:w-1/3 p-4 bg-green-100 rounded-lg flex flex-col items-center"},Lo=["src"],qo={class:"text-lg font-semibold"},Fo={class:"text-gray-600"},No={class:"text-lg font-bold mt-2"},Bo={key:3},Eo={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},zo={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Qo=["src"],Wo={class:"ml-3 sm:ml-4 flex-grow"},Yo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Go={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Ho={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Jo={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Ko={class:"font-semibold"},Xo={class:"flex items-center gap-2 sm:gap-3"},Zo={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},el={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},tl={class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},sl={class:"flex space-x-2"},ol=["disabled","title","onClick"],ll={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},al={class:"bg-white rounded-lg p-6 w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-xl 2xl:max-w-2xl relative"},rl={class:"bg-green-700 text-white p-4 rounded-lg flex items-center gap-3 mt-4"},dl=["src"],nl={class:"font-bold"},il={class:"text-xs sm:text-sm"},ul={class:"mt-4 flex items-center space-x-2"},ml={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},cl={class:"bg-white p-5 rounded-lg w-full max-w-sm sm:max-w-md md:max-w-lg lg:max-w-2xl 2xl:max-w-3xl h-auto relative flex flex-col md:flex-row gap-6 max-h-[80vh] overflow-y-auto"},xl={class:"w-full md:w-1/2 flex flex-col"},pl={class:"mt-1"},fl={class:"w-full md:w-1/2 flex flex-col"},gl={class:"text-gray-700 text-xs sm:text-sm"},vl={key:4},bl={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},hl={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},yl=["src"],_l={class:"ml-3 sm:ml-4 flex-grow"},wl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},kl={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},Cl={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},Pl={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},Vl={class:"font-semibold"},Ml={class:"flex items-center gap-2 sm:gap-3"},jl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Rl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},Sl={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},Ol={class:"bg-white max-w-3xl w-full rounded-lg shadow-lg p-6 relative"},$l={class:"text-gray-500 text-sm"},Al={class:"mt-4 flex items-center space-x-4 border-t pt-4"},Dl=["src"],Tl={class:"flex-1"},Il={class:"font-semibold"},Ul={class:"text-gray-500 text-sm"},Ll={class:"text-right"},ql={class:"text-gray-400 line-through"},Fl={class:"mt-4 border-t pt-4 text-sm"},Nl={class:"flex justify-between mt-2"},Bl={class:"font-medium"},El={class:"flex justify-between mt-2"},zl=["href"],Ql={class:"mt-6 border-t pt-4 text-gray-700 font-semibold"},Wl={class:"font-normal"},Yl={key:5},Gl={class:"mt-4 space-y-4 max-h-[500px] overflow-y-auto"},Hl={class:"flex flex-wrap md:flex-nowrap items-center mb-4"},Jl=["src"],Kl={class:"ml-3 sm:ml-4 flex-grow"},Xl={class:"text-xs sm:text-sm 2xl:text-lg font-semibold"},Zl={class:"text-[10px] sm:text-xs 2xl:text-sm text-gray-600"},ea={class:"mt-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},ta={class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-700"},sa={class:"font-semibold"},oa={class:"flex items-center gap-2 sm:gap-3"},la={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},aa={class:"text-xs sm:text-sm 2xl:text-lg font-semibold text-green-700"},ra={key:1,class:"tab-content p-4"},da={class:"flex flex-col md:flex-row justify-start space-y-4 md:space-y-0 md:space-x-6"},na={class:"flex flex-col"},ia={class:"text-black text-sm"},ua={class:"text-black text-sm"},ma={class:"text-black text-sm"},ca={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},xa={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto shadow-lg"},pa={class:"space-y-3"},fa={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ga={class:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-lg"},va={class:"space-y-3"},ba={class:"relative"},ha={class:"relative"},ya={key:2,class:"tab-content"},_a={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},wa={class:"bg-white rounded-lg shadow-lg max-w-lg w-full p-6"},ka={class:"flex justify-between items-center mb-4"},Ca={class:"mb-4"},Pa={class:"mb-4"},Va={class:"mt-3 space-y-4"},Ma={class:"flex space-x-2 mt-2 justify-end"},ja=["onClick"],Ra={key:3,class:"tab-content"},Sa={class:"mb-4 flex items-center space-x-2"},Oa={class:"flex flex-col items-center"},$a={class:"max-h-[300px] sm:max-h-[400px] overflow-y-auto w-full"},Aa={class:"min-w-full bg-white"},Da={key:0},Ta={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Ia={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Ua={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},La={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},qa={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Fa={class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},Na={key:1},Ba={colspan:"5",class:"px-4 py-2 text-center text-sm text-gray-500"},Ea={__name:"MyProfile",setup(za){console.log("Imported logo URL:",Se);const i=jt();Ot();const Oe=k(()=>i.state.showLoading.state),L=f("My Purchase"),$e=f(["My Purchase","My Profile","Billing Address","Report"]),g=k(()=>{var o;return((o=i.state.userData.data)==null?void 0:o.user)||{}}),ce=k(()=>i.state.Consumer.conversation.data),xe=k(()=>i.state.Consumer.message.data),M=k(()=>{var o,t;return((t=(o=i.state.userData.data)==null?void 0:o.user)==null?void 0:t.id)||null}),Ae=k(()=>{var o,t;return((t=(o=i.state.userData.data)==null?void 0:o.user)==null?void 0:t.avatar)||defaultAvatar.value}),pe=k(()=>i.state.Consumer.address.data),De=k(()=>i.state.Consumer.purchase.data),Te=k(()=>i.state.Consumer.toShip.data),Ie=k(()=>i.state.Consumer.toReceive.data),X=k(()=>i.state.Consumer.toComplete.data),Ue=k(()=>i.state.Consumer.toCancel.data),Le=k(()=>i.state.Consumer.toRefund.data),qe=k(()=>i.state.Consumer.reason.data),Fe=k(()=>i.state.Consumer.report.data),A=f(""),j=f(""),Ne=o=>{const[t,c,s]=o.split(" "),ue={January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}[t];return`${s}-${ue}-${c.padStart(2,"0")}`},Q=k(()=>{let o=[...Fe.value];return j.value&&(o=o.filter(t=>t.status===j.value)),A.value&&(o=o.filter(t=>Ne(t.created_at)===A.value)),o}),fe=qt.debounce(()=>{},300),Be=()=>{A.value="",fe()},Ee=()=>{j.value="",fe()},ze=()=>{const o=window.open("","_blank");let t=`
    <html>
    <head>
      <title>Pagsasaka Report</title>
      <style>
        body { font-family: Arial, sans-serif; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        th { background-color: #f2f2f2; }
        h1 { text-align: start; font-size: 1.5rem; } 
        .logo { max-width: 200px; display: block; margin: 0 auto 20px; }
      </style>
    </head>
    <body>
      <img src="${Se}" class="logo" alt="Company Logo" />
      <h1>Order Report</h1>
      <table>
        <thead>
          <tr>
            <th>Orders</th>
            <th>Quantity</th>
            <th>Payment Method</th>
            <th>Status</th>
            <th>Total Amount</th>
          </tr>
        </thead>
        <tbody>
`;Q.value.length>0?Q.value.forEach(s=>{t+=`
        <tr>
          <td>${s.product_name}</td>
          <td>${s.quantity}</td>
          <td>${s.payment_method}</td>
          <td>${s.status}</td>
          <td>${s.total_amount}</td>
        </tr>
      `}):t+=`
      <tr>
        <td colspan="5">No orders found for the selected filters</td>
      </tr>
    `,t+=`
        </tbody>
      </table>
    </body>
    </html>
  `,o.document.write(t),o.document.close();const c=o.document.querySelector(".logo");c?(c.onload=()=>{o.focus(),o.print(),o.close()},c.onerror=()=>{console.error("Failed to load logo image"),o.focus(),o.print(),o.close()}):(o.focus(),o.print(),o.close())};function Qe(){i.dispatch("Consumer/getReport")}V(()=>{Qe()});function We(){i.dispatch("Consumer/getReason")}V(()=>{We()});const h=I({first_name:g.value.first_name||"",middle_name:g.value.middle_name||"",last_name:g.value.last_name||"",email:g.value.email||"",phone_number:g.value.phone_number||""}),Z=f(!1),Ye=()=>{Z.value=!0},ge=()=>{Z.value=!1},Ge=async()=>{var o,t;try{await i.dispatch("updateProfile",{id:g.value.id,first_name:h.first_name,middle_name:h.middle_name,last_name:h.last_name,phone_number:h.phone_number,email:h.email}),g.value.first_name=h.first_name,g.value.middle_name=h.middle_name,g.value.last_name=h.last_name,g.value.phone_number=h.phone_number,g.value.email=h.email,ge()}catch(c){if((t=(o=c.response)==null?void 0:o.data)!=null&&t.errors){const s=c.response.data.errors,u=Object.keys(s)[0];u&&alert(s[u][0])}else console.error("Error updating profile:",c),alert("An unexpected error occurred.")}},P=I({password:g.value.password||"",password_confirmation:g.value.password_confirmation||""}),W=f(!1),He=()=>{W.value=!W.value},Y=f(!1),Je=()=>{Y.value=!Y.value},ee=f(!1),Ke=()=>{ee.value=!0},ve=()=>{ee.value=!1},Xe=async()=>{var o,t;try{if(P.password!==P.password_confirmation){alert("Passwords do not match");return}await i.dispatch("updatePassword",{id:g.value.id,password:P.password,password_confirmation:P.password_confirmation}),ve(),P.password="",P.password_confirmation=""}catch(c){if((t=(o=c.response)==null?void 0:o.data)!=null&&t.errors){const s=c.response.data.errors,u=Object.keys(s)[0];u&&alert(s[u][0])}else console.error("Error updating password:",c),alert("An unexpected error occurred.")}};function Ze(){i.dispatch("Consumer/getPurchase")}V(()=>{Ze()});function et(){i.dispatch("Consumer/getPurchaseShip")}V(()=>{et()});function tt(){i.dispatch("Consumer/getPurchaseReceive")}V(()=>{tt()});function st(){i.dispatch("Consumer/getPurchaseCompleted")}V(()=>{st()});function ot(){i.dispatch("Consumer/getPurchaseCancel")}V(()=>{ot()});function lt(){i.dispatch("Consumer/getPurchaseRefund")}V(()=>{lt()});function be(){i.dispatch("Consumer/getAddressList")}V(()=>{be()});const R=I({id:"",delivery_address:"",address_info:""}),te=f(!1),at=o=>{const t=pe.value.find(c=>c.id===o);t&&(R.id=t.id,R.delivery_address=t.delivery_address,R.address_info=t.address_info,te.value=!0)},rt=k(()=>({delivery_address:{required:Dt.withMessage("Delivery Address is required",J)}})),se=Me(rt,R);async function dt(){await se.value.$validate()&&await i.dispatch("Consumer/updateAddress",R).then(t=>{t.isSuccess==!0&&(oe(),be())})}function oe(){te.value=!1}f(!1),f(null);const le=f([{label:"Order Placed",icon:"mdi:cart",completed:!0},{label:"Order Shipped Out",icon:"mdi:truck",completed:!0},{label:"Order Receive",icon:"mdi:package",completed:!0},{label:"Order Complete",icon:"mdi:check-circle",completed:!1}]),nt=f([{text:"Order Complete",time:"17 Oct 20:14",completed:!0},{text:"Parcel delivered",time:"17 Oct 20:02",completed:!0},{text:"Parcel is out for delivery",time:"17 Oct 19:50",completed:!0},{text:"Delivery driver has been assigned",time:"17 Oct 19:40",completed:!0},{text:"Parcel has arrived at the delivery hub: Majon Delivery Hub",time:"17 Oct 19:14",completed:!0},{text:"Parcel has departed from the sorting facility",time:"17 Oct 17:58",completed:!0},{text:"Parcel is loaded into truck, to leave sorting center soon",time:"17 Oct 17:36",completed:!0},{text:"Parcel has arrived at sorting facility",time:"17 Oct 17:04",completed:!0},{text:"Parcel has been received at drop off point: Malolos Warehouse",time:"17 Oct 16:45",completed:!0},{text:"Seller is preparing to ship your parcel",time:"17 Oct 16:20",completed:!0},{text:"Order is placed",time:"17 Oct 16:14",completed:!0}]),D=f({name:"Salad package",variant:"500 Grams",quantity:2}),it=f("https://via.placeholder.com/300"),ae=f(!1),ut=()=>{ae.value=!0};function mt(){ae.value=!1}const he=f(!1);function ct(){he.value=!1}const ye=f(!1);function xt(){ye.value=!1}const re=f(!1),v=I({id:"",reason:"",solution:"",return_method:"",payment_method:"",product_refund_img:""}),de=f(null),C=Me({reason:{required:J,maxLength:je(255)},solution:{required:J},return_method:{required:J},product_refund_img:{maxLength:je(2048)},payment_method:{required:(o,t)=>t.solution!=="Replace"?!!o:!0}},v),pt=o=>{if(console.log("Order ID:",o),console.log("toCompleteList:",X.value),!o){i.commit("showToast",{showToast:!0,toastMessage:"Invalid order ID.",toastType:"error"},{root:!0});return}const t=X.value.find(c=>c.order_id===o);if(!t){i.commit("showToast",{showToast:!0,toastMessage:"Order not found.",toastType:"error"},{root:!0});return}v.id=o,de.value=t.total_amount,re.value=!0},_e=()=>{re.value=!1,v.id="",v.reason="",v.solution="",v.return_method="",v.payment_method="",v.product_refund_img="",de.value=null,C.value.$reset()},ft=o=>{const t=o.target.files[0];if(t&&t.size>2048*1024){i.commit("showToast",{showToast:!0,toastMessage:"File size exceeds 2MB limit.",toastType:"error"},{root:!0});return}v.product_refund_img=t},gt=async()=>{var o,t,c;if(C.value.$touch(),C.value.$error){console.log("Validation errors:",C.value.$errors);return}try{const s=new FormData;s.append("reason",v.reason),s.append("solution",v.solution),s.append("return_method",v.return_method),v.product_refund_img&&s.append("product_refund_img",v.product_refund_img),v.solution!=="Replace"&&s.append("payment_method",v.payment_method);const u=Object.fromEntries(s);console.log("Refund request data:",{id:v.id,...u});const ue=await i.dispatch("Consumer/createRefund",{id:v.id,...u});console.log("Refund creation response:",ue),_e()}catch(s){console.error("Refund request failed:",s),console.log("Error response:",(o=s.response)==null?void 0:o.data),i.commit("showToast",{showToast:!0,toastMessage:((c=(t=s.response)==null?void 0:t.data)==null?void 0:c.message)||"Failed to submit refund request.",toastType:"error"},{root:!0})}},we=["To Pay","To Ship","To Receive","Completed","Cancelled","Return Refund"],T=f(we[0]),ke=f(null),q=I({reasons:""}),ne=f(!1);function N(){ne.value=!1,q.reasons="",ke.value=null}async function vt(){if(!q.reasons||q.reasons==="Select your reason"){i.commit("showToast",{showToast:!0,toastMessage:"Please select a cancellation reason",toastType:"error"},{root:!0});return}try{const o={id:ke.value,reasons:q.reasons};await i.dispatch("Consumer/cancelProduct",o),N()}catch(o){console.error("Cancellation failed:",o)}}const ie=f(!1),S=f(null),B=I({message:""}),bt=()=>{S.value=null},ht=()=>{ie.value=!0},yt=()=>{ie.value=!1},_t=o=>{console.log("Selected chat ID:",o);const t=ce.value.find(c=>c.id===o);S.value=t,i.dispatch("Consumer/getMessages",o)},wt=async()=>{if(!B.message.trim()||!S.value)return;const o={id:S.value.id,message:B.message};try{await i.dispatch("Consumer/sendMessage",o),await i.dispatch("Consumer/getMessages",S.value.id),B.message=""}catch(t){console.error("Failed to send message:",t)}};function Ce(){i.dispatch("Consumer/getConversation")}V(()=>{Ce()});const G=f(!1),F=f(null),kt=(o,t)=>{t.stopPropagation(),G.value=!0,F.value=o},Ct=o=>{o.stopPropagation(),G.value=!1,F.value=null},Pt=async()=>{var o;if(F.value)try{await i.dispatch("Consumer/deleteConversation",F.value),G.value=!1,F.value=null,Ce(),((o=S.value)==null?void 0:o.id)===F.value&&(S.value=null,xe.value=[])}catch(t){console.error("Failed to delete conversation:",t)}},Pe=I({avatar:g.value.avatar||""}),Vt=async o=>{const t=o.target.files[0];if(!t)return;const c=new FormData;c.append("avatar",t),c.append("id",g.value.id);try{const s=await i.dispatch("Consumer/addImage",c);if(s&&s.avatar){const u=s.avatar;Pe.avatar=u,g.value.avatar=g.value.avatar,sessionStorage.setItem("userAvatar",u),i.commit("setAvatar",u)}}catch(s){console.error("Image upload failed:",s),alert("Image upload failed. Please try again.")}};return(o,t)=>{const c=Rt("n-rate");return a(),r(y,null,[Oe.value?(a(),U(Ut,{key:0,class:"loading"})):x("",!0),d(Lt),e("div",null,[d($t),e("div",Ft,[d(b,{class:"text-4xl font-bold"},{default:m(()=>t[22]||(t[22]=[n("My Profile")])),_:1}),e("div",Nt,[e("label",Bt,[e("input",{type:"file",accept:"image/*",class:"hidden",onChange:Vt},null,32),e("img",{src:Pe.avatar,alt:"Profile",class:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-md hover:opacity-80 transition duration-200"},null,8,Et),e("div",zt,[d(p(_),{icon:"ic:twotone-plus",width:"24",height:"24",style:{color:"#9faba4"}})])]),e("div",null,[d(b,{class:"text-xl font-semibold text-gray-800"},{default:m(()=>[n(l(g.value.first_name)+" "+l(g.value.middle_name)+" "+l(g.value.last_name),1)]),_:1})])]),e("div",Qt,[e("div",Wt,[e("div",Yt,[(a(!0),r(y,null,w($e.value,s=>(a(),r("button",{key:s,onClick:u=>L.value=s,class:O(["px-4 py-2 sm:px-5 md:px-6 text-gray-600 font-medium border-b-2 transition-colors",L.value===s?"border-green-500 text-green-500":"border-transparent hover:border-green-500 hover:text-green-500"])},l(s),11,Gt))),128))])]),e("div",Ht,[L.value==="My Purchase"?(a(),r("div",Jt,[e("div",Kt,[e("button",{onClick:ht,class:"hidden md:flex bg-yellow-100 border-2 border-gray-300 rounded-full p-3 fixed bottom-4 right-4 shadow-md hover:bg-yellow-300 items-center justify-center"},[d(p(_),{icon:"tabler:message",width:"28",height:"28",style:{color:"#608C54"}})])]),ie.value?(a(),r("div",Xt,[e("div",Zt,[t[23]||(t[23]=e("span",{class:"text-xl font-bold text-green-600"},"Chat",-1)),e("button",{onClick:yt,class:"text-gray-600 text-lg"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),e("div",es,[e("div",ts,[e("div",ss,[d(At,{placeholder:"Search...",class:"2xl:w-[270px] 2xs:w-[137px]"})]),e("div",os,[(a(!0),r(y,null,w(ce.value,s=>(a(),r("div",{key:s.id,class:"flex items-center p-3 border-b cursor-pointer hover:bg-gray-100 transition duration-200",onClick:u=>_t(s.id)},[e("img",{src:s.chat_partner_avatar||o.defaultAvatar,class:"w-12 h-12 rounded-full border mr-3",alt:"Avatar"},null,8,as),e("div",rs,[e("span",ds,l(s.chat_partner_name),1),e("p",ns,l(s.message||"No messages"),1)]),s.unread_messages_count?(a(),r("span",is,l(s.unread_messages_count),1)):x("",!0),e("button",{onClick:u=>kt(s.id,u)},[d(p(_),{icon:"mdi-light:delete",width:"20",height:"20",style:{color:"#ad1414"}})],8,us),G.value?(a(),r("div",ms,[e("div",cs,[t[24]||(t[24]=e("h3",{class:"text-xl font-semibold text-center"},"Are you sure you want to delete this conversation?",-1)),e("div",xs,[e("button",{onClick:Pt,class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"},"Yes, Delete"),e("button",{onClick:t[0]||(t[0]=u=>Ct(u)),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"},"Cancel")])])])):x("",!0)],8,ls))),128))])]),e("div",ps,[S.value?(a(),r("div",gs,[e("div",vs,[e("h2",bs,l(S.value.chat_partner_name),1),e("button",{onClick:bt,class:"text-gray-500"},"Close")]),e("div",hs,[(a(!0),r(y,null,w(xe.value,s=>(a(),r("div",{key:s.id,class:O(["flex items-start space-x-3",{"justify-end":s.sender.id===M.value,"justify-start":s.sender.id!==M.value}])},[s.sender.id!==M.value?(a(),r("img",{key:0,src:s.sender.avatar||o.defaultAvatar,class:"w-8 h-8 rounded-full"},null,8,ys)):x("",!0),e("div",{class:O(["p-3 rounded-lg shadow-md w-auto max-w-xs",{"bg-green-500 text-white":s.sender.id===M.value,"bg-gray-200 text-black":s.sender.id!==M.value}])},[e("p",{class:O(["text-sm font-bold",{"text-white":s.sender.id===M.value,"text-green-600":s.sender.id!==M.value}])},l(s.sender.id===M.value?"You":s.sender.first_name+" "+s.sender.last_name),3),e("p",_s,l(s.message),1)],2),s.sender.id===M.value?(a(),r("img",{key:1,src:Ae.value||o.defaultAvatar,class:"w-8 h-8 rounded-full"},null,8,ws)):x("",!0)],2))),128))]),e("div",ks,[E(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>B.message=s),type:"text",placeholder:"Type a message...",class:"flex-1 p-2 border rounded-md text-sm"},null,512),[[H,B.message]]),e("button",{onClick:wt,class:"ml-2 bg-green-500 text-white px-4 py-2 rounded-md transition duration-200 hover:bg-green-700"}," Send ")])])):(a(),r("div",fs,t[25]||(t[25]=[e("p",{class:"text-xl"},"Welcome to Pagsasaka Chat",-1)])))])])])):x("",!0),e("div",Cs,[e("div",Ps,[e("div",Vs,[(a(),r(y,null,w(we,s=>e("button",{key:s,onClick:u=>T.value=s,class:O(["px-4 py-2 text-sm font-semibold",[T.value===s?"border-b-2 border-green-600 text-green-600":"text-white"]])},l(s),11,Ms)),64))])]),e("div",js,[T.value==="To Pay"?(a(),r("div",Rs,[e("div",Ss,[(a(!0),r(y,null,w(De.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Os,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,$s),e("div",As,[e("h3",Ds,l(s.product_name),1),e("p",Ts," Variants: "+l(s.unit),1),e("div",Is,[e("p",Us,[t[26]||(t[26]=n(" Seller: ")),e("span",Ls,l(s.farmer_name),1)]),e("div",qs,[t[27]||(t[27]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",Fs,l(s.quantity),1),t[28]||(t[28]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",Ns," ₱"+l(s.total_amount),1)])])])]),t[29]||(t[29]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Pending")]),e("div",{class:"flex space-x-2"})])],-1))]))),128)),ne.value?(a(),r("div",Bs,[e("div",Es,[e("div",zs,[e("button",{onClick:N,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),t[33]||(t[33]=e("h3",{class:"text-lg md:text-xl font-semibold text-center mb-4"}," Select Cancellation Reason ",-1)),e("div",Qs,[d(p(_),{icon:"noto:bell",width:"50",height:"50",class:"mb-4"}),t[30]||(t[30]=e("p",{class:"text-sm md:text-base text-white"}," Please select a cancellation reason. Once your order is successfully canceled, your refund will be processed immediately and may take 10 to 45 minutes to reflect in your account. ",-1))]),e("div",Ws,[d(b,{class:"font-semibold"},{default:m(()=>t[31]||(t[31]=[n("*Select Your Reason")])),_:1}),d(Re,{modelValue:q.reasons,"onUpdate:modelValue":t[2]||(t[2]=s=>q.reasons=s)},{default:m(()=>[d(Tt,null,{default:m(()=>t[32]||(t[32]=[n("Select your reason")])),_:1}),(a(!0),r(y,null,w(qe.value,s=>(a(),U(K,{key:s.id,value:s.id},{default:m(()=>[n(l(s.reasons),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e("div",{class:"mt-4 flex justify-end space-x-2"},[e("button",{onClick:N,class:"px-4 py-2 text-sm font-semibold text-gray-700 border border-gray-300 rounded hover:bg-gray-100"}," Close"),e("button",{onClick:vt,class:"px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 border border-red-500 rounded hover:bg-red-200"}," Confirm ")])])])):x("",!0)])])):T.value==="To Ship"?(a(),r("div",Ys,[e("div",Gs,[(a(!0),r(y,null,w(Te.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Hs,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Js),e("div",Ks,[e("h3",Xs,l(s.product_name),1),e("p",Zs," Variants: "+l(s.unit),1),e("div",eo,[e("p",to,[t[34]||(t[34]=n(" Seller: ")),e("span",so,l(s.farmer_name),1)]),e("div",oo,[t[35]||(t[35]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",lo,l(s.quantity),1),t[36]||(t[36]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",ao," ₱"+l(s.total_amount),1)])])])]),t[37]||(t[37]=Ve('<div data-v-ff772421><div class="mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4" data-v-ff772421><div class="flex items-center gap-2 sm:gap-3" data-v-ff772421><h1 class="text-xs sm:text-sm 2xl:text-base" data-v-ff772421>Seller Preparing your Goods:</h1><span class="text-xs sm:text-sm 2xl:text-base font-medium text-gray-500" data-v-ff772421>Waiting for Courier</span></div><div class="flex space-x-2" data-v-ff772421></div></div></div>',1))]))),128)),ne.value?(a(),r("div",ro,[e("div",no,[e("div",io,[e("button",{onClick:N,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),t[39]||(t[39]=e("h3",{class:"text-lg md:text-xl font-semibold text-center mb-4"}," Select Cancellation Reason ",-1)),e("div",uo,[d(p(_),{icon:"noto:bell",width:"50",height:"50",class:"mb-4"}),t[38]||(t[38]=e("p",{class:"text-sm md:text-base text-white"}," Please select a cancellation reason. Once your order is successfully canceled, your refund will be processed immediately and may take 10 to 45 minutes to reflect in your account. ",-1))]),e("div",mo,[(a(),r(y,null,w(["Need to change delivery address","Seller is not responsive to my inquiries","Others / Change of mind"],s=>d(me,{key:s,name:"tinIdOption",label:s,value:s,modelValue:o.tinIdSelected,"onUpdate:modelValue":t[3]||(t[3]=u=>o.tinIdSelected=u)},null,8,["label","value","modelValue"])),64))]),e("div",co,[e("button",{onClick:N,class:"px-4 py-2 text-sm font-semibold text-gray-700 border border-gray-300 rounded hover:bg-gray-100"}," Close"),e("button",{onClick:t[4]||(t[4]=(...s)=>o.Save&&o.Save(...s)),class:"px-4 py-2 text-sm font-semibold text-red-700 bg-red-100 border border-red-500 rounded hover:bg-red-200"}," Confirm ")])])])):x("",!0)])])):T.value==="To Receive"?(a(),r("div",xo,[e("div",po,[(a(!0),r(y,null,w(Ie.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",fo,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,go),e("div",vo,[e("h3",bo,l(s.product_name),1),e("p",ho," Variants: "+l(s.unit),1),e("div",yo,[e("p",_o,[t[40]||(t[40]=n(" Seller: ")),e("span",wo,l(s.farmer_name),1)]),e("div",ko,[t[41]||(t[41]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",Co,l(s.quantity),1),t[42]||(t[42]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",Po," ₱"+l(s.total_amount),1)])])])]),t[43]||(t[43]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Seller Has shipped your goods:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"To Receive")])])],-1))]))),128)),he.value?(a(),r("div",Vo,[e("div",Mo,[e("button",{onClick:ct,class:"absolute top-2 right-2 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),e("div",jo,[t[44]||(t[44]=e("div",{class:"flex justify-center items-center mb-4"},[e("h3",{class:"text-xl font-semibold ml-4"},"Tracking Details")],-1)),e("div",Ro,[e("div",So,[e("div",Oo,[(a(!0),r(y,null,w(le.value,(s,u)=>(a(),r("div",{key:u,class:"flex items-center"},[e("div",$o,[e("div",{class:O(["w-10 h-10 md:w-14 md:h-14 flex items-center justify-center rounded-full border-2",s.completed?"bg-green-300 text-white border-green-500":"bg-gray-200 text-gray-500 border-gray-300"])},[d(p(_),{icon:s.icon,class:"text-lg md:text-xl"},null,8,["icon"])],2),e("span",{class:O(["text-xs text-center mt-2",s.completed?"text-green-600":"text-gray-400"])},l(s.label),3)]),u<le.value.length-1?(a(),r("div",{key:0,class:O(["w-12 md:w-20 h-1",le.value[u+1].completed?"bg-green-500":"bg-gray-300"])},null,2)):x("",!0)]))),128))])]),e("div",Ao,[e("div",null,[e("ul",Do,[(a(!0),r(y,null,w(nt.value,(s,u)=>(a(),r("li",{key:u,class:"mb-4 relative"},[e("span",{class:O(["absolute -left-3 w-2 h-2 rounded-full",s.completed?"bg-green-500":"bg-gray-400"])},null,2),e("p",To,l(s.text),1),e("p",Io,l(s.time),1)]))),128))])])])])]),e("div",Uo,[e("img",{src:it.value,alt:"Product Image",class:"rounded-lg mb-4 w-full"},null,8,Lo),e("h3",qo,l(D.value.name),1),e("p",Fo,"Variants: "+l(D.value.unit),1),e("p",No,"Qty "+l(D.value.quantity),1)])])])):x("",!0)])])):T.value==="Completed"?(a(),r("div",Bo,[e("div",Eo,[(a(!0),r(y,null,w(X.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",zo,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Qo),e("div",Wo,[e("h3",Yo,l(s.product_name),1),e("p",Go," Variants: "+l(s.unit),1),e("div",Ho,[e("p",Jo,[t[45]||(t[45]=n(" Seller: ")),e("span",Ko,l(s.farmer_name),1)]),e("div",Xo,[t[46]||(t[46]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",Zo,l(s.quantity),1),t[47]||(t[47]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",el," ₱"+l(s.total_amount),1)])])])]),e("div",null,[e("div",tl,[t[48]||(t[48]=e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Parcel has been delivered:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Completed")],-1)),e("div",sl,[e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-red-600 border border-red-500 rounded hover:bg-red-50",disabled:!s.order_id,title:s.order_id?"":"Order ID is missing",onClick:u=>pt(s.order_id)}," Request/Refund ",8,ol)])])])]))),128)),ye.value?(a(),r("div",ll,[e("div",al,[e("button",{onClick:xt,class:"absolute top-3 right-3 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),t[50]||(t[50]=e("h2",{class:"text-lg font-semibold"},"Rate Products",-1)),e("div",rl,[e("img",{src:D.value,alt:"Product Image",class:"w-12 h-12 sm:w-14 sm:h-14 rounded-md"},null,8,dl),e("div",null,[e("p",nl,l(o.product_name),1),e("p",il,"Variants: "+l(o.productVariant),1)])]),e("div",ul,[t[49]||(t[49]=e("p",{class:"font-semibold text-sm"},"Product Quantity",-1)),d(c,{clearable:"","allow-half":""})]),E(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.review=s),class:"w-full p-3 mt-3 border rounded-md text-xs sm:text-sm",placeholder:"Share your thoughts on the product to help other buyers"},null,512),[[H,o.review]]),e("button",{onClick:t[6]||(t[6]=(...s)=>o.submitReview&&o.submitReview(...s)),class:"w-full bg-green-700 hover:bg-green-500 text-white py-2 mt-4 rounded-lg font-semibold"}," Submit ")])])):x("",!0),re.value?(a(),r("div",ml,[e("div",cl,[e("button",{onClick:_e,class:"absolute top-3 right-2 text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),e("div",xl,[e("div",pl,[d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[51]||(t[51]=[n("*Reason:")])),_:1}),E(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>v.reason=s),class:"text-xs sm:text-sm w-full mt-1 p-2 border rounded resize-none h-20",placeholder:"Leave your comment here"},null,512),[[H,v.reason]]),p(C).reason.$error?(a(),U(z,{key:0},{default:m(()=>[n(l(p(C).reason.$errors[0].$message),1)]),_:1})):x("",!0)]),t[53]||(t[53]=e("hr",{class:"my-2 border-gray-300"},null,-1)),t[54]||(t[54]=e("div",{class:"text-xs text-gray-600"}," *Upload a clear photo/video showing the received parcel and product(s) ",-1)),d(b,{class:"font-semibold"},{default:m(()=>t[52]||(t[52]=[n("Upload Image")])),_:1}),e("input",{type:"file",onChange:ft,accept:"image/*,application/pdf",class:"w-full border p-2 rounded"},null,32),p(C).product_refund_img.$error?(a(),U(z,{key:0},{default:m(()=>[n(l(p(C).product_refund_img.$errors[0].$message),1)]),_:1})):x("",!0)]),e("div",fl,[d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[55]||(t[55]=[n("Solution:")])),_:1}),d(Re,{modelValue:v.solution,"onUpdate:modelValue":t[8]||(t[8]=s=>v.solution=s),class:"w-full mt-1 p-2 border rounded text-xs sm:text-sm"},{default:m(()=>[d(K,{value:""},{default:m(()=>t[56]||(t[56]=[n("Type")])),_:1}),d(K,{value:"Refund"},{default:m(()=>t[57]||(t[57]=[n("Refund")])),_:1}),d(K,{value:"Replace"},{default:m(()=>t[58]||(t[58]=[n("Replacement")])),_:1})]),_:1},8,["modelValue"]),p(C).solution.$error?(a(),U(z,{key:0},{default:m(()=>[n(l(p(C).solution.$errors[0].$message),1)]),_:1})):x("",!0),t[62]||(t[62]=e("hr",{class:"my-3 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[59]||(t[59]=[n("Refund Amount:")])),_:1}),e("p",gl,l(de.value),1),t[63]||(t[63]=e("hr",{class:"my-1 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[60]||(t[60]=[n("Choose return method")])),_:1}),(a(),r(y,null,w(["Pick Up","Drop-off"],s=>d(me,{key:s,name:"returnMethod",label:s,value:s,modelValue:v.return_method,"onUpdate:modelValue":t[9]||(t[9]=u=>v.return_method=u)},null,8,["label","value","modelValue"])),64)),p(C).return_method.$error?(a(),U(z,{key:1},{default:m(()=>[n(l(p(C).return_method.$errors[0].$message),1)]),_:1})):x("",!0),t[64]||(t[64]=e("hr",{class:"my-2 border-gray-300"},null,-1)),d(b,{class:"font-medium text-xs sm:text-sm"},{default:m(()=>t[61]||(t[61]=[n("Payment Method:")])),_:1}),(a(),r(y,null,w(["E-Wallet"],s=>d(me,{key:s,name:"paymentMethod",label:s,value:s,modelValue:v.payment_method,"onUpdate:modelValue":t[10]||(t[10]=u=>v.payment_method=u)},null,8,["label","value","modelValue"])),64)),e("button",{onClick:gt,class:"bg-green-600 text-white border py-2 px-6 rounded mt-3 text-xs sm:text-sm"}," Confirm ")])])])):x("",!0)])])):T.value==="Cancelled"?(a(),r("div",vl,[e("div",bl,[(a(!0),r(y,null,w(Ue.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",hl,[e("img",{src:s.product_images[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,yl),e("div",_l,[e("h3",wl,l(s.product_name),1),e("p",kl," Variants: "+l(s.unit),1),e("div",Cl,[e("p",Pl,[t[65]||(t[65]=n(" Seller: ")),e("span",Vl,l(s.farmer_name),1)]),e("div",Ml,[t[66]||(t[66]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",jl,l(s.quantity),1),t[67]||(t[67]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",Rl," ₱"+l(s.total_amount),1)])])])]),e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[t[69]||(t[69]=e("div",{class:"flex items-center gap-2 sm:gap-3"},[e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Cancelled by You:"),e("span",{class:"text-xs sm:text-sm 2xl:text-base font-medium text-gray-500"},"Cancelled")],-1)),e("div",{class:"flex space-x-2"},[t[68]||(t[68]=e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-green-700 border border-green-600 rounded hover:bg-green-50"}," Buy Again ",-1)),e("button",{class:"px-3 py-1 text-xs sm:text-sm 2xl:text-base font-semibold text-red-600 border border-red-500 rounded hover:bg-red-50",onClick:ut}," View Cancellation Details ")])])])]))),128)),ae.value?(a(),r("div",Sl,[e("div",Ol,[e("button",{onClick:mt,class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})]),t[74]||(t[74]=e("div",{class:"text-red-600 font-bold text-lg"},"Cancellation Completed",-1)),e("p",$l,"on "+l(o.cancellationDate),1),t[75]||(t[75]=e("div",{class:"mt-4 flex items-center justify-between"},[e("div",{class:"flex items-center"},[e("span",{class:"ml-2 text-gray-500"},"Shop Name:")]),e("button",{class:"text-blue-500 underline text-sm"},"View Shop")],-1)),e("div",Al,[e("img",{src:D.value.image,alt:"Product Image",class:"w-20 h-20 object-cover"},null,8,Dl),e("div",Tl,[e("p",Il,l(D.value.name),1),e("p",Ul,"x"+l(D.value.quantity),1)]),e("div",Ll,[e("p",ql,"₱"+l(D.value.originalPrice),1)])]),e("div",Fl,[t[72]||(t[72]=e("div",{class:"flex justify-between"},[e("span",{class:"text-gray-500"},"Requested by"),e("span",{class:"font-medium"},"Buyer")],-1)),e("div",Nl,[t[70]||(t[70]=e("span",{class:"text-gray-500"},"Payment method",-1)),e("span",Bl,l(o.paymentMethod),1)]),e("div",El,[t[71]||(t[71]=e("span",{class:"text-gray-500"},"Order ID",-1)),e("a",{href:o.orderLink,class:"text-red-500 font-medium underline"},l(o.orderId),9,zl)])]),e("div",Ql,[t[73]||(t[73]=n(" Reason: ")),e("span",Wl,l(o.reason),1)])])])):x("",!0)])])):T.value==="Return Refund"?(a(),r("div",Yl,[e("div",Gl,[(a(!0),r(y,null,w(Le.value,s=>(a(),r("div",{key:s.id,class:"bg-green-100 border border-green-300 rounded-lg p-4"},[e("div",Hl,[e("img",{src:s.product_img[0]||"https://via.placeholder.com/80",alt:"Product Image",class:"w-16 h-16 sm:w-20 sm:h-20 2xl:w-24 2xl:h-24 rounded object-cover border"},null,8,Jl),e("div",Kl,[e("h3",Xl,l(s.product_name),1),e("p",Zl," Variants: "+l(s.unit),1),e("div",ea,[e("p",ta,[t[76]||(t[76]=n(" Seller: ")),e("span",sa,l(s.seller_name),1)]),e("div",oa,[t[77]||(t[77]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Quantity:",-1)),e("p",la,l(s.quantity),1),t[78]||(t[78]=e("h1",{class:"text-xs sm:text-sm 2xl:text-base"},"Order Total:",-1)),e("p",aa," ₱"+l(s.total_amount),1)])])])]),t[79]||(t[79]=e("div",null,[e("div",{class:"mt-4 flex flex-col sm:flex-row sm:justify-between gap-2 sm:gap-4"},[e("div",{class:"flex items-center gap-2 sm:gap-3"}),e("div",{class:"flex space-x-2"})])],-1))]))),128))])])):x("",!0)])])])):x("",!0),L.value==="My Profile"?(a(),r("div",ra,[e("div",da,[e("div",na,[d(b,{class:"font-semibold"},{default:m(()=>t[80]||(t[80]=[n("Name:")])),_:1}),e("span",ia,l(g.value.first_name)+" "+l(g.value.middle_name)+" "+l(g.value.last_name),1),d(b,{class:"font-semibold"},{default:m(()=>t[81]||(t[81]=[n("E-Wallet Number:")])),_:1}),e("span",ua,l(g.value.phone_number),1),d(b,{class:"font-semibold"},{default:m(()=>t[82]||(t[82]=[n("Email Address:")])),_:1}),e("span",ma,l(g.value.email),1)])]),Z.value?(a(),r("div",ca,[e("div",xa,[t[88]||(t[88]=e("h2",{class:"text-lg font-semibold mb-4"},"Edit Consumer Info",-1)),e("div",pa,[e("div",null,[d(b,null,{default:m(()=>t[83]||(t[83]=[n("First Name")])),_:1}),d($,{modelValue:h.first_name,"onUpdate:modelValue":t[11]||(t[11]=s=>h.first_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[84]||(t[84]=[n("Middle Name")])),_:1}),d($,{modelValue:h.middle_name,"onUpdate:modelValue":t[12]||(t[12]=s=>h.middle_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[85]||(t[85]=[n("Last Name")])),_:1}),d($,{modelValue:h.last_name,"onUpdate:modelValue":t[13]||(t[13]=s=>h.last_name=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[86]||(t[86]=[n("E-Wallet Number")])),_:1}),d($,{modelValue:h.phone_number,"onUpdate:modelValue":t[14]||(t[14]=s=>h.phone_number=s),type:"text",class:"w-full"},null,8,["modelValue"])]),e("div",null,[d(b,null,{default:m(()=>t[87]||(t[87]=[n("Email")])),_:1}),d($,{modelValue:h.email,"onUpdate:modelValue":t[15]||(t[15]=s=>h.email=s),type:"email",class:"w-full"},null,8,["modelValue"])]),e("div",{class:"flex text-sm justify-end space-x-2 pt-2"},[e("button",{type:"button",onClick:ge,class:"rounded-full px-4 py-2 bg-gray-300 hover:bg-gray-400"}," Cancel "),e("button",{onClick:Ge,class:"rounded-full bg-[#608C54] py-2 px-6 w-32 md:w-28 hover:bg-gray-200 text-white"}," Save ")])])])])):x("",!0),ee.value?(a(),r("div",fa,[e("div",ga,[t[91]||(t[91]=e("h2",{class:"text-lg font-semibold mb-4"},"Change Password",-1)),e("div",va,[e("div",ba,[d(b,{class:"font-semibold"},{default:m(()=>t[89]||(t[89]=[n("*New Password")])),_:1}),d($,{modelValue:P.password,"onUpdate:modelValue":t[16]||(t[16]=s=>P.password=s),type:W.value?"text":"password",placeholder:"Enter Your Password",class:"w-full"},null,8,["modelValue","type"]),e("button",{type:"button",class:"absolute right-3 2xl:top-10 lg:top-10 md:top-11 2xs:top-12 text-gray-500",onClick:He},[d(p(_),{icon:W.value?"ic:twotone-visibility-off":"ic:twotone-visibility"},null,8,["icon"])])]),e("div",ha,[d(b,{class:"font-semibold"},{default:m(()=>t[90]||(t[90]=[n("*Re-enter Password")])),_:1}),d($,{modelValue:P.password_confirmation,"onUpdate:modelValue":t[17]||(t[17]=s=>P.password_confirmation=s),type:Y.value?"text":"password",placeholder:"Re-enter password",class:"w-full"},null,8,["modelValue","type"]),e("button",{type:"button",class:"absolute right-3 2xl:top-10 lg:top-10 md:top-11 2xs:top-12 text-gray-500",onClick:Je},[d(p(_),{icon:Y.value?"ic:twotone-visibility-off":"ic:twotone-visibility"},null,8,["icon"])])]),e("div",{class:"flex justify-end space-x-2 pt-2"},[e("button",{type:"button",onClick:ve,class:"rounded-full px-4 py-2 bg-gray-300 hover:bg-gray-400"}," Cancel "),e("button",{onClick:Xe,class:"rounded-full bg-[#608C54] py-2 px-6 w-32 md:w-28 hover:bg-gray-200 text-white"}," Save ")])])])])):x("",!0),e("div",{class:"mt-4 flex flex-col md:flex-row justify-end gap-2 md:gap-4"},[e("button",{class:"bg-green-700 text-white px-8 py-2 rounded-full hover:bg-green-500 transition",onClick:Ye}," Edit"),e("button",{class:"bg-green-700 text-white px-6 py-2 rounded-full hover:bg-green-500 transition",onClick:Ke}," Change Password")])])):x("",!0),L.value==="Billing Address"?(a(),r("div",ya,[e("div",null,[te.value?(a(),r("div",_a,[e("div",wa,[e("div",ka,[t[92]||(t[92]=e("h3",{class:"text-xl font-semibold"},"Update Address",-1)),e("button",{onClick:oe,class:"text-gray-400 hover:text-gray-600"},[d(p(_),{icon:"icon-park-solid:close-one",width:"20",height:"20"})])]),e("div",Ca,[d(b,null,{default:m(()=>t[93]||(t[93]=[n("Address:")])),_:1}),d($,{modelValue:R.delivery_address,"onUpdate:modelValue":t[18]||(t[18]=s=>R.delivery_address=s)},null,8,["modelValue"]),p(se).delivery_address.$error?(a(),U(z,{key:0},{default:m(()=>[n(l(p(se).delivery_address.$errors[0].$message),1)]),_:1})):x("",!0)]),e("div",Pa,[d(b,null,{default:m(()=>t[94]||(t[94]=[n("Additional Address Info(optional):")])),_:1}),d($,{modelValue:R.address_info,"onUpdate:modelValue":t[19]||(t[19]=s=>R.address_info=s)},null,8,["modelValue"])]),e("div",{class:"flex justify-end space-x-2"},[e("button",{type:"button",class:"px-4 py-2 bg-gray-200 rounded-md text-gray-700 hover:bg-gray-300",onClick:oe},"Cancel "),e("button",{type:"submit",class:"px-6 py-2 bg-[#608C54] text-white rounded-md hover:bg-[#4e7143]",onClick:dt},"Save")])])])):x("",!0)]),e("div",Va,[t[97]||(t[97]=e("h3",{class:"text-lg font-semibold"},"Saved Address",-1)),e("ul",null,[(a(!0),r(y,null,w(pe.value,s=>(a(),r("li",{key:s.id,class:"border-b py-2"},[e("p",null,[t[95]||(t[95]=e("span",{class:"font-semibold text-[#608C54]"},"Address:",-1)),n(" "+l(s.delivery_address),1)]),e("p",null,[t[96]||(t[96]=e("span",{class:"font-semibold text-[#608C54]"},"Additional Address Info:",-1)),n(" "+l(s.address_info),1)]),e("div",Ma,[e("button",{class:"text-blue-500 hover:text-blue-700",onClick:u=>at(s.id)},[d(p(_),{icon:"bi:pencil-square",width:"20",height:"20",style:{color:"#2543bf"}})],8,ja)])]))),128))])])])):x("",!0),L.value==="Report"?(a(),r("div",Ra,[d(b,{class:"text-lg sm:text-xl md:text-2xl font-semibold text-left mb-4 w-full"},{default:m(()=>t[98]||(t[98]=[n("List of Orders")])),_:1}),e("div",Sa,[t[101]||(t[101]=e("label",{for:"order-date-filter",class:"text-sm font-semibold"},"Filter by Date:",-1)),E(e("input",{id:"order-date-filter","onUpdate:modelValue":t[20]||(t[20]=s=>A.value=s),type:"date",class:"p-2 border rounded-md text-sm"},null,512),[[H,A.value]]),A.value?(a(),r("button",{key:0,onClick:Be,class:"px-3 py-1 bg-gray-300 text-sm rounded-md hover:bg-gray-400"}," Clear ")):x("",!0),t[102]||(t[102]=e("label",{for:"order-status-filter",class:"text-sm font-semibold"},"Filter by Status:",-1)),E(e("select",{id:"order-status-filter","onUpdate:modelValue":t[21]||(t[21]=s=>j.value=s),class:"p-2 border rounded-md text-sm"},t[99]||(t[99]=[Ve('<option value="" data-v-ff772421>All</option><option value="Order placed" data-v-ff772421>Order placed</option><option value="Waiting for courier" data-v-ff772421>Waiting for courier</option><option value="In transit" data-v-ff772421>In transit</option><option value="Order delivered" data-v-ff772421>Order delivered</option>',5)]),512),[[St,j.value]]),j.value?(a(),r("button",{key:1,onClick:Ee,class:"px-3 py-1 bg-gray-300 text-sm rounded-md hover:bg-gray-400"}," Clear Status ")):x("",!0),e("button",{onClick:ze,class:"flex items-center gap-2 px-4 py-1 bg-green-700 text-white text-sm rounded-md hover:bg-green-600"},[d(p(_),{icon:"arcticons:print",width:"24",height:"24",style:{color:"#f9fffb"}}),t[100]||(t[100]=n(" Print "))])]),e("div",Oa,[e("div",$a,[e("table",Aa,[t[103]||(t[103]=e("thead",{class:"bg-gray-200 sticky top-0 z-10"},[e("tr",null,[e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Orders"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Quantity"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Payment Method"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Status"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Total Amount"),e("th",{class:"px-2 xs:px-4 py-2 text-center text-sm sm:text-base"},"Date")])],-1)),Q.value.length>0?(a(),r("tbody",Da,[(a(!0),r(y,null,w(Q.value,s=>(a(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",Ta,l(s.product_name),1),e("td",Ia,l(s.quantity),1),e("td",Ua,l(s.payment_method),1),e("td",La,l(s.status),1),e("td",qa,l(s.total_amount),1),e("td",Fa,l(s.created_at),1)]))),128))])):(a(),r("tbody",Na,[e("tr",null,[e("td",Ba,l(A.value||j.value?`No orders found for ${A.value||""} ${j.value?j.value:""}`:"No orders available"),1)])]))])])])])):x("",!0)])])]),d(It)])],64)}}},or=Mt(Ea,[["__scopeId","data-v-ff772421"]]);export{or as default};
